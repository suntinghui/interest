(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-436465b9"],{"1a18":function(t,e,n){"use strict";var i=n("4e80"),r=n.n(i);r.a},"4e80":function(t,e,n){},"9fd9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"20px"}},[n("Form",{ref:"entity",attrs:{model:t.entity,rules:t.ruleNew,"label-width":80}},[n("Form-item",{attrs:{label:"标题：",prop:"title"}},[n("Input",{staticStyle:{width:"204px"},model:{value:t.entity.title,callback:function(e){t.$set(t.entity,"title",e)},expression:"entity.title"}})],1),n("Form-item",{attrs:{label:"简介：",prop:"info"}},[n("Input",{staticStyle:{width:"50%"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:5}},model:{value:t.entity.info,callback:function(e){t.$set(t.entity,"info",e)},expression:"entity.info"}})],1),n("Form-item",{attrs:{label:"图片：",prop:"image"}},[n("Upload",{ref:"upload",attrs:{headers:t.headers,action:"/interest/admin/interest/upload/picture",name:"picture","show-upload-list":!1,"before-upload":t.handleBeforeUpload,"on-success":t.handleSuccess,"on-format-error":t.handleFormatError,format:["jpg","jpeg","png"]}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传图片")])],1)],1),n("Form-item",[null!=t.entity.image?n("img",{staticStyle:{width:"300px",height:"200px"},attrs:{src:t.entity.image}}):t._e()]),n("Form-item",{attrs:{label:"详情：",prop:"content"}},[n("interest-quill-editor",{staticClass:"editor",attrs:{interestContent:t.interestContent},on:{"editor-change":function(e){t.contentGet(e)}}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("entity")}}},[t._v("提交")]),n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)],1)],1)},r=[],o=n("74ac"),s={components:{"interest-quill-editor":o["a"]},data:function(){return{interestContent:"",content:null,headers:{Authorization:"bearer "+localStorage.getItem("currentUser_token")},entity:{title:null,info:null,image:null,content:null},ruleNew:{title:[{type:"string",required:!0,message:"填写标题",trigger:"blur"}],info:[{type:"string",required:!0,message:"填写介绍",trigger:"blur"}],image:[{type:"string",required:!0,message:"上传图片",trigger:"blur"}],content:[{type:"string",required:!0,message:"填写内容",trigger:"blur"}]}}},mounted:function(){},methods:{initEntity:function(){this.entity.title=null,this.entity.info=null,this.entity.image=null,this.entity.content=null},entitySet:function(t){this.entity.title=t.title,this.entity.info=t.info,this.entity.image=t.image,this.entity.content=t.content},dateGet:function(t){var e=new Date(parseInt(t));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()},listDateSet:function(t){for(var e=t.length-1;e>=0;e--)t[e].time=this.dateGet(t[e].time)},handleSuccess:function(t,e){this.entity.image=t.data.url,e.url=t.data.url,e.name=t.data.url},handleBeforeUpload:function(){return this.$refs.upload.fileList.splice(0,this.$refs.upload.fileList.length),!0},handleFormatError:function(t){this.$Notice.warning({title:"图片格式不对",desc:"图片格式只能为jpg,jpeg,png"})},contentGet:function(t){this.entity.content=t},submit:function(t){var e=this;this.$refs[t].validate((function(t){t&&e.axios({method:"post",url:"/admin/interests/interest",data:e.entity}).then(function(t){this.interestContent=this.interestContent+".",this.initEntity(),this.$Message.info("新建成功")}.bind(e)).catch(function(t){this.$Message.error("新建失败")}.bind(e))}))},reset:function(){this.interestContent=this.interestContent+".",this.initEntity()}}},a=s,l=(n("1a18"),n("2877")),u=Object(l["a"])(a,i,r,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-436465b9.a4f2f97e.js.map