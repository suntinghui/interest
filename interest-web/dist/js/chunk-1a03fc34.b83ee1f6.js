(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a03fc34"],{4329:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mywork"}},[e("div",{staticClass:"page-header-main"},[e("div",{staticClass:"box-flex width-80 margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center"},[e("div",{staticStyle:{width:"100%",margin:"20px 0 20px 0"}},[e("div",{staticClass:"title"},[e("p",[t._v(t._s(t.postcard.title))])]),e("Card",[e("div",{staticClass:"clearfix head"},[e("div",{staticClass:"layout-left",staticStyle:{"margin-top":"2px"}},[e("a",{attrs:{href:t.postcard.githuburl,target:"_blank"}},[e("img",{staticStyle:{width:"30px",height:"30px","border-radius":"100%","margin-top":"6px"},attrs:{src:t.postcard.headimg}})])]),e("div",{staticClass:"layout-left",staticStyle:{"margin-left":"7px"}},[e("p",{staticStyle:{"font-size":"17px"}},[e("a",{attrs:{href:t.postcard.githuburl,target:"_blank"}},[t._v("\n                                    "+t._s(t.postcard.username)+"\n                                ")])]),e("p",{staticStyle:{"font-size":"1px"}},[t._v("\n                                "+t._s(t.postcard.createtime)+"\n                            ")])])]),e("div",{staticClass:"content"},[e("p",[t._v(t._s(t.postcard.content))])])]),t._l(t.replyCardList,(function(a,i){return e("Card",{key:i},[e("div",{staticClass:"clearfix head"},[e("div",{staticClass:"layout-left",staticStyle:{"margin-top":"2px"}},[e("a",{attrs:{href:a.githuburl,target:"_blank"}},[e("img",{staticStyle:{width:"30px",height:"30px","border-radius":"100%","margin-top":"6px"},attrs:{src:a.headimg}})])]),e("div",{staticClass:"layout-left",staticStyle:{"margin-left":"7px"}},[e("p",{staticStyle:{"font-size":"17px"}},[e("a",{attrs:{href:a.githuburl,target:"_blank"}},[t._v("\n                                    "+t._s(a.username)+"\n                                ")])]),e("p",{staticStyle:{"font-size":"1px"}},[t._v("\n                                "+t._s(a.createtime)+"\n                            ")])])]),e("div",{staticClass:"content"},[e("p",[t._v(t._s(a.content))])])])})),e("div",{staticStyle:{"margin-top":"20px"}},[e("Page",{attrs:{total:t.total,"page-size":t.pageInfo.pageSize,"show-total":""},on:{"on-change":function(a){t.pageSearch(a)}}})],1)],2),e("div",{staticClass:"box-flex width-100 margin-auto margin-top-2 border-top border-color-bfbfbf"}),e("div",{staticClass:"box-flex margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center",staticStyle:{width:"100%","margin-bottom":"30px"}},[e("div",{staticClass:" width-100 flex-direction-row"},[e("div",{staticClass:"box-flex flex-1 padding-all-5x"},[e("span",[e("Icon",{attrs:{type:"edit"}}),t._v("发表回复")],1)]),e("div",{staticClass:"box-flex flex-6 width-100 padding-all-5x"},[e("Input",{attrs:{type:"textarea",rows:6,placeholder:"内容"},model:{value:t.textarea,callback:function(a){t.textarea=a},expression:"textarea"}})],1)]),e("div",{staticClass:"box-flex width-100 margin-top-2 flex-items-flex-end flex-justify-flex-end margin-bottom-3"},[e("Button",{attrs:{type:"primary"},on:{click:function(a){return t.sendCard()}}},[t._v("发表")])],1)])])])])},s=[],r={data:function(){return{total:0,pageInfo:{page:0,pageSize:20},textarea:"",postcardid:null,postcard:{id:"",username:"",title:"",content:"",interestid:"",createtime:"",headimg:"",githuburl:""},replyCardList:[]}},mounted:function(){this.postcardid=this.$route.params.id,this.axios({method:"get",url:"/public/postcards/postcard",params:{id:this.postcardid}}).then(function(t){this.postcardSet(t.data.data)}.bind(this)).catch(function(t){alter(t)}.bind(this)),this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},methods:{replyCardListGet:function(t){this.axios({method:"get",url:"/public/replycards",params:{page:t.pageInfo.page,pageSize:t.pageInfo.pageSize,postcardid:t.postcardid}}).then(function(t){this.replyCardList=t.data.data.data,this.listDateSet(this.replyCardList),this.total=t.data.data.totalCount}.bind(this)).catch((function(t){alert(t)}))},dateGet:function(t){var a=new Date(parseInt(t));return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()},listDateSet:function(t){for(var a=t.length-1;a>=0;a--)t[a].createtime=this.dateGet(t[a].createtime)},postcardSet:function(t){this.postcard.id=t.id,this.postcard.username=t.username,this.postcard.title=t.title,this.postcard.content=t.content,this.postcard.interestid=t.interestid,this.postcard.createtime=this.dateGet(t.createtime),this.postcard.headimg=t.headimg,this.postcard.githuburl=t.githuburl},pageSearch:function(t){this.pageInfo.page=t-1,this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},sendCard:function(){null!=this.textarea&&""!=this.textarea?null!=this.axios.defaults.headers.common["Authorization"]&&""!=this.axios.defaults.headers.common["Authorization"]?this.axios({method:"post",url:"/replycards/replycard",data:{postcardid:this.postcardid,content:this.textarea}}).then(function(t){this.$Message.info("回复成功"),this.textarea="",this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})}.bind(this)).catch(function(t){this.$Message.error("请重新登录")}.bind(this)):this.$Message.error("登录后，才能回复！"):this.$Message.error("请填写回复内容")}}},n=r,o=(e("787c"),e("2877")),d=Object(o["a"])(n,i,s,!1,null,null,null);a["default"]=d.exports},"787c":function(t,a,e){"use strict";var i=e("a2fe"),s=e.n(i);s.a},a2fe:function(t,a,e){}}]);
//# sourceMappingURL=chunk-1a03fc34.b83ee1f6.js.map