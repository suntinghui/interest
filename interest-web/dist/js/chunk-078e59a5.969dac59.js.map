{"version":3,"sources":["webpack:///./src/views/template/index.vue?5076","webpack:///./src/images/logo.jpg","webpack:///./src/views/template/index.vue?4346","webpack:///src/views/template/index.vue","webpack:///./src/views/template/index.vue?8e7b","webpack:///./src/views/template/index.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","m","menuSelect","$event","backHome","_v","search","model","value","callback","$$v","searchValue","expression","_s","user","name","slot","_e","toMessages","headimg","unreadMsgCount","loginFlag","style","margin","emailModal","loading","emailOk","cancel","ref","emailRule","email","$set","minRows","maxRows","staticRenderFns","data","consoleFlag","title","content","loginName","passwordAgain","created","code","$route","query","state","$store","getters","_isMobile","$router","replace","login","methods","userGet","axios","method","url","userSet","e","push","dispatch","$Message","info","$refs","validate","valid","setTimeout","$Spin","show","h","githubLogin","qqLogin","location","reload","params","auth","username","password","console","log","component"],"mappings":"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","file":"js/chunk-078e59a5.969dac59.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=10cf927c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=10cf927c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.5b71fac1.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\"},[_c('Layout',[_c('Header',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"background\":\"#fff\",\"padding\":\"0 0\",\"z-index\":\"1000\"}},[_c('Menu',{staticClass:\"menu-layout\",attrs:{\"mode\":\"horizontal\",\"theme\":\"light\",\"active-name\":\"interest\"},on:{\"on-select\":function (m){_vm.menuSelect(m)}}},[_c('div',{staticStyle:{\"width\":\"95%\",\"margin\":\"0 auto\"}},[_c('div',{staticClass:\"layout-logo\"},[_c('a',{on:{\"click\":function($event){return _vm.backHome()}}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require(\"../../images/logo.jpg\"),\"align\":\"absmiddle\"}})])]),_c('div',{staticClass:\"layout-title\"},[_c('MenuItem',{attrs:{\"name\":\"interest\"}},[_c('span',{staticClass:\"home-text\"},[_vm._v(\"\\n                          主页\\n                        \")])]),_c('MenuItem',{attrs:{\"name\":\"article\"}},[_c('span',{staticClass:\"home-text\"},[_vm._v(\"\\n                          文章\\n                        \")])])],1),_c('div',{staticClass:\"layout-search\"},[_c('Input',{attrs:{\"icon\":\"android-search\",\"placeholder\":\"Enter something...\"},on:{\"on-enter\":function($event){return _vm.search()}},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}})],1),(_vm.loginFlag)?_c('div',{staticClass:\"layout-nav\"},[_c('MenuItem',{attrs:{\"name\":\"1\"}},[_vm._v(\"\\n                          \"+_vm._s(_vm.user.name)+\"\\n                      \")]),_c('MenuItem',{attrs:{\"name\":\"2\"}},[_c('Icon',{attrs:{\"type\":\"ios-mail\"}}),_vm._v(\"\\n                          邮件\\n                      \")],1),_c('Submenu',{attrs:{\"name\":\"3\"}},[_c('template',{slot:\"title\"},[_c('Icon',{attrs:{\"type\":\"md-list-box\"}}),_vm._v(\"\\n                            文章\\n                        \")],1),_c('MenuItem',{attrs:{\"name\":\"31\"}},[_c('Icon',{attrs:{\"type\":\"md-create\"}}),_vm._v(\"\\n                          写文章\\n                        \")],1),_c('MenuItem',{attrs:{\"name\":\"32\"}},[_c('Icon',{attrs:{\"type\":\"md-list\"}}),_vm._v(\"\\n                          我的文章\\n                        \")],1)],2),_c('MenuItem',{attrs:{\"name\":\"4\"}},[_c('Icon',{attrs:{\"type\":\"md-log-out\"}}),_vm._v(\"\\n                          退出\\n                      \")],1),(_vm.consoleFlag)?_c('MenuItem',{attrs:{\"name\":\"5\"}},[_c('Icon',{attrs:{\"type\":\"md-settings\"}}),_vm._v(\"\\n                          控制台\\n                      \")],1):_vm._e()],1):_vm._e(),_c('div',{staticClass:\"avatar-badge-wrapper\",attrs:{\"type\":\"success\"},on:{\"click\":_vm.toMessages}},[(_vm.loginFlag)?_c('img',{staticStyle:{\"width\":\"30px\",\"height\":\"30px\",\"margin-top\":\"16px\",\"border-radius\":\"100%\"},attrs:{\"src\":_vm.user.headimg}}):_vm._e(),(_vm.unreadMsgCount > 0)?_c('span',{staticClass:\"msg-num\"},[_vm._v(_vm._s(_vm.unreadMsgCount))]):_vm._e()]),(!_vm.loginFlag)?_c('div',{staticClass:\"layout-nav\"},[_c('MenuItem',{attrs:{\"name\":\"6\"}},[_c('Icon',{attrs:{\"type\":\"md-log-in\"}}),_vm._v(\"\\n                          登录\\n                      \")],1)],1):_vm._e()])])],1),_c('Content',{style:({margin: '80px 0 40px 0'})},[_c('router-view')],1),_c('Footer',{staticClass:\"layout-footer-center\"},[_c('div',[_c('a',{attrs:{\"href\":\"https://github.com/smallsnail-wh\",\"target\":\"_blank\"}},[_c('Icon',{staticStyle:{\"color\":\"rebeccapurple\"},attrs:{\"size\":\"40\",\"type\":\"logo-github\"}})],1)]),_c('p',[_vm._v(\"2018-2020 © smallsail-wh\")])])],1),_c('Modal',{attrs:{\"mask-closable\":false,\"visible\":_vm.emailModal,\"loading\":_vm.loading,\"width\":\"600\",\"title\":\"联系管理员\"},on:{\"update:visible\":function($event){_vm.emailModal=$event},\"on-ok\":function($event){return _vm.emailOk('email')},\"on-cancel\":function($event){return _vm.cancel()}},model:{value:(_vm.emailModal),callback:function ($$v) {_vm.emailModal=$$v},expression:\"emailModal\"}},[_c('Form',{ref:\"email\",attrs:{\"rules\":_vm.emailRule,\"model\":_vm.email,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.email.title),callback:function ($$v) {_vm.$set(_vm.email, \"title\", $$v)},expression:\"email.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"email\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入email\"},model:{value:(_vm.email.email),callback:function ($$v) {_vm.$set(_vm.email, \"email\", $$v)},expression:\"email.email\"}})],1),_c('FormItem',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.email.name),callback:function ($$v) {_vm.$set(_vm.email, \"name\", $$v)},expression:\"email.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"Enter something...\"},model:{value:(_vm.email.content),callback:function ($$v) {_vm.$set(_vm.email, \"content\", $$v)},expression:\"email.content\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\r\n.layout {\r\n  border: 1px solid #d7dde4;\r\n  background: #f5f7f9;\r\n  position: relative;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  min-width: 1000px;\r\n}\r\n\r\n.layout-logo {\r\n  float: left;\r\n}\r\n\r\n.layout-search {\r\n  height: 30px;\r\n  border-radius: 3px;\r\n  float: left;\r\n  position: relative;\r\n  left: 30px;\r\n}\r\n\r\n.layout-title {\r\n  margin-left: 30px;\r\n  height: inherit;\r\n  float: left;\r\n}\r\n\r\n.layout-title .home-text{\r\n  color: rebeccapurple;\r\n  font-weight: bold;\r\n}\r\n\r\n.layout-title .home-text:hover{\r\n  color: #2d8cf0;\r\n}\r\n\r\n.menu-layout {\r\n  height:65px;\r\n  width:100%;\r\n}\r\n.layout-nav {\r\n  height: inherit;\r\n  float: right;\r\n}\r\n\r\n.layout-footer-center {\r\n  text-align: center;\r\n  background: #fff;\r\n}\r\n\r\n.demo-spin-icon-load {\r\n  animation: ani-demo-spin 1s linear infinite;\r\n}\r\n\r\n.avatar-badge-wrapper {\r\n  position: relative;\r\n  float: right;\r\n  cursor: pointer;\r\n}\r\n\r\n.avatar-badge-wrapper .msg-num {\r\n  position: absolute;\r\n  top: 9px;\r\n  right: -12px;\r\n  color: #fff;\r\n  background-color: #2db7f5;\r\n  border-radius: 50%;\r\n  padding: 2px 5px;\r\n  line-height: 1;\r\n}\r\n\r\n@keyframes ani-demo-spin {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  50% {\r\n    transform: rotate(180deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"layout\">\r\n        <Layout>\r\n            <Header style=\"position: absolute;width: 100%;background:#fff;padding:0 0;z-index: 1000; \">\r\n              <Menu mode=\"horizontal\" theme=\"light\" class=\"menu-layout\" active-name=\"interest\"\r\n                    @on-select=\"m=>{menuSelect(m)}\">\r\n                  <div style=\"width: 95%;margin: 0 auto\">\r\n                      <div class=\"layout-logo\">\r\n                          <a @click=\"backHome()\">\r\n                              <img src=\"../../images/logo.jpg\" style=\"width: 50px;height: 50px;\" align=\"absmiddle\" />\r\n                          </a>\r\n                      </div>\r\n                      <div class=\"layout-title\">\r\n                          <MenuItem name=\"interest\">\r\n                            <span class=\"home-text\">\r\n                              主页\r\n                            </span>\r\n                          </MenuItem>\r\n                          <MenuItem name=\"article\">\r\n                            <span class=\"home-text\">\r\n                              文章\r\n                            </span>\r\n                          </MenuItem>\r\n                      </div>\r\n                      <div class=\"layout-search\">\r\n                          <Input v-model=\"searchValue\" icon=\"android-search\" placeholder=\"Enter something...\"\r\n                                 @on-enter=\"search()\" />\r\n                      </div>\r\n                      <div v-if=\"loginFlag\" class=\"layout-nav\">\r\n                          <MenuItem name=\"1\">\r\n                              {{user.name}}\r\n                          </MenuItem>\r\n                          <MenuItem name=\"2\">\r\n                              <Icon type=\"ios-mail\"></Icon>\r\n                              邮件\r\n                          </MenuItem>\r\n                          <Submenu name=\"3\">\r\n                            <template slot=\"title\">\r\n                                <Icon type=\"md-list-box\" />\r\n                                文章\r\n                            </template>\r\n                            <MenuItem name=\"31\">\r\n                              <Icon type=\"md-create\" />\r\n                              写文章\r\n                            </MenuItem>\r\n                            <MenuItem name=\"32\">\r\n                              <Icon type=\"md-list\" />\r\n                              我的文章\r\n                            </MenuItem>\r\n                        </Submenu>\r\n                          <MenuItem name=\"4\">\r\n                              <Icon type=\"md-log-out\"></Icon>\r\n                              退出\r\n                          </MenuItem>\r\n                          <MenuItem name=\"5\" v-if=\"consoleFlag\">\r\n                              <Icon type=\"md-settings\"></Icon>\r\n                              控制台\r\n                          </MenuItem>\r\n                      </div>\r\n                      <div  type=\"success\" class=\"avatar-badge-wrapper\" @click=\"toMessages\">\r\n\r\n                          <img v-if=\"loginFlag\"\r\n                               style=\"width: 30px;height: 30px; margin-top: 16px;border-radius: 100%;\"\r\n                               :src=\"user.headimg\" />\r\n\r\n                          <span v-if=\"unreadMsgCount > 0\"  class=\"msg-num\">{{unreadMsgCount}}</span>\r\n\r\n                      </div>\r\n\r\n                      <div v-if=\"!loginFlag\" class=\"layout-nav\">\r\n                          <MenuItem name=\"6\">\r\n                              <Icon type=\"md-log-in\"></Icon>\r\n                              登录\r\n                          </MenuItem>\r\n                      </div>\r\n                  </div>\r\n              </Menu>\r\n            </Header>\r\n            <Content :style=\"{margin: '80px 0 40px 0'}\">\r\n                <router-view></router-view>\r\n            </Content>\r\n            <Footer class=\"layout-footer-center\">\r\n                <div>\r\n                    <a href=\"https://github.com/smallsnail-wh\" target=\"_blank\">\r\n                        <Icon style=\"color: rebeccapurple;\" size=\"40\" type=\"logo-github\"></Icon>\r\n                    </a>\r\n                </div>\r\n                <p>2018-2020 &copy; smallsail-wh</p>\r\n            </Footer>\r\n        </Layout>\r\n\r\n        <Modal :mask-closable=\"false\" :visible.sync=\"emailModal\" :loading=\"loading\" v-model=\"emailModal\" width=\"600\"\r\n               title=\"联系管理员\" @on-ok=\"emailOk('email')\" @on-cancel=\"cancel()\">\r\n            <Form ref=\"email\" :rules=\"emailRule\" :model=\"email\" :label-width=\"80\">\r\n                <FormItem label=\"标题\" prop=\"title\">\r\n                    <Input v-model=\"email.title\" placeholder=\"请输入标题\" />\r\n                </FormItem>\r\n                <FormItem label=\"email\" prop=\"email\">\r\n                    <Input v-model=\"email.email\" placeholder=\"请输入email\" />\r\n                </FormItem>\r\n                <FormItem label=\"姓名\" prop=\"name\">\r\n                    <Input v-model=\"email.name\" placeholder=\"请输入姓名\" />\r\n                </FormItem>\r\n                <FormItem label=\"内容\" prop=\"content\">\r\n                    <Input v-model=\"email.content\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"placeholder=\"Enter something...\" />\r\n                </FormItem>\r\n            </Form>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loginFlag: false,\r\n      consoleFlag: false,\r\n      loading: true,\r\n      searchValue: \"\",\r\n      emailModal: false,\r\n      //用户未读消息个数\r\n      unreadMsgCount: 0,\r\n      email: {\r\n        title: \"\",\r\n        email: \"\",\r\n        name: \"\",\r\n        content: \"\"\r\n      },\r\n      user: {\r\n        loginName: \"\",\r\n        email: \"\",\r\n        headimg: \"\",\r\n        name: \"\"\r\n      },\r\n      emailRule: {\r\n        title: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        email: [\r\n          { required: true, message: \"输入邮箱\", trigger: \"blur\" },\r\n          { type: \"email\", message: \"输入正确的邮箱格式\", trigger: \"blur\" }\r\n        ],\r\n        passwordAgain: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"请输入再次输入密码\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        name: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"请输入姓名\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        content: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    var code = this.$route.query.code;\r\n    var state = this.$route.query.state;\r\n    if (this.$store.getters._isMobile) {\r\n      if (code != null && code != \"\" && state != null && state != \"\") {\r\n        this.$router.replace(\"/mobile\" + \"?code=\" + code + \"&state=\" + state);\r\n        return;\r\n      } else {\r\n        this.$router.replace(\"/mobile\");\r\n        return;\r\n      }\r\n    }\r\n    this.login(code, state);\r\n  },\r\n  methods: {\r\n    userGet() {\r\n      let _this = this;\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/public/user\"\r\n      })\r\n        .then(\r\n          function(response) {\r\n            if (response.data.data != null && response.data.data != \"\") {\r\n              this.loginFlag = true;\r\n              this.userSet(response.data.data);\r\n              if (response.data.data.usertype == 1) {\r\n                this.consoleFlag = true;\r\n              }\r\n\r\n              return this.axios({\r\n                method: \"get\",\r\n                url: \"/msgrecords/unreadnum\"\r\n              });\r\n            } else {\r\n              return Promise.resolve(0);\r\n            }\r\n          }.bind(this)\r\n        )\r\n        .then(function(response) {\r\n          if (response === 0) {\r\n            _this.unreadMsgCount = response;\r\n          } else {\r\n            _this.unreadMsgCount = response.data.data;\r\n          }\r\n        })\r\n        .catch(\r\n          function(error) {\r\n            this.$Message.error(\"无权限\");\r\n          }.bind(this)\r\n        );\r\n    },\r\n    userSet(e) {\r\n      this.user.loginName = e.loginName;\r\n      this.user.email = e.email;\r\n      this.user.headimg = e.headimg;\r\n      this.user.name = e.name;\r\n    },\r\n    search() {\r\n      if(this.$route.name == \"home\" || this.$route.name == \"page-home-title\"|| this.$route.name == \"page-home\"){\r\n        this.$router.push(\"/page/home/\" + this.searchValue);\r\n      }else if(this.$route.name == \"article-home\"){\r\n        this.$router.push(\"/article\" + \"?searchValue=\" + this.searchValue);\r\n      }\r\n    },\r\n    menuSelect(e) {\r\n      if (e == 1) {\r\n        this.$router.push(\"/page/user\");\r\n      } else if (e == 2) {\r\n        this.emailModal = true;\r\n      } else if (e == 31) {\r\n        this.$router.push(\"/article/create\");\r\n      } else if (e == 32) {\r\n        this.$router.push(\"/article/user\");\r\n      } else if (e == 4) {\r\n        this.$store.dispatch(\"users/loginOUt\", { router: this.$router });\r\n      } else if (e == 5) {\r\n        this.$router.push(\"/base\");\r\n      } else if (e == 6) {\r\n        this.$router.push(\"/login\");\r\n      } else if (e == \"interest\") {\r\n        this.$router.push(\"/\");\r\n      } else if (e == \"article\") {\r\n        this.$router.push(\"/article\");\r\n      }\r\n    },\r\n    backHome() {\r\n      this.$router.push(\"/page/home\");\r\n    },\r\n    cancel() {\r\n      this.$Message.info(\"点击了取消\");\r\n    },\r\n    emailOk(email) {\r\n      this.$refs[email].validate(valid => {\r\n        if (valid) {\r\n          this.axios({\r\n            method: \"post\",\r\n            url: \"/email\",\r\n            data: this.email\r\n          })\r\n            .then(\r\n              function(response) {\r\n                this.$Message.info(\"发送成功\");\r\n              }.bind(this)\r\n            )\r\n            .catch(function(error) {\r\n              alert(error);\r\n            });\r\n          this.emailModal = false;\r\n        } else {\r\n          this.$Message.error(\"表单验证失败!\");\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            this.$nextTick(() => {\r\n              this.loading = true;\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n    /*登录*/\r\n    login(code, state) {\r\n      if (code != null && code != \"\" && state != null && state != \"\") {\r\n        this.$Spin.show({\r\n          render: h => {\r\n            return h(\"div\", [\r\n              h(\"Icon\", {\r\n                style: {\r\n                  animation: \"ani-demo-spin 1s linear infinite\"\r\n                },\r\n                props: {\r\n                  type: \"load-c\",\r\n                  size: 18\r\n                }\r\n              }),\r\n              h(\"div\", \"正在登录，请等待...\")\r\n            ]);\r\n          }\r\n        });\r\n        setTimeout(() => {\r\n          this.$Spin.hide();\r\n        }, 10000);\r\n        if (state == \"github\") {\r\n          this.githubLogin(code);\r\n        } else if (state == \"qq\") {\r\n          this.qqLogin(code);\r\n        } else {\r\n          this.$router.push({ path: \"/\" });\r\n          location.reload();\r\n        }\r\n      } else {\r\n        this.userGet();\r\n      }\r\n    },\r\n    /*github登录*/\r\n    githubLogin(code) {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/authentication/github\",\r\n        params: {\r\n          code: code\r\n        },\r\n        auth: {\r\n          username: \"client\",\r\n          password: \"secret\"\r\n        }\r\n      })\r\n        .then(\r\n          function(response) {\r\n            localStorage.setItem(\r\n              \"currentUser_token\",\r\n              response.data.access_token\r\n            );\r\n            localStorage.setItem(\r\n              \"currentUser_refresh_token\",\r\n              response.data.refresh_token\r\n            );\r\n            this.axios.defaults.headers.common[\"Authorization\"] =\r\n              \"bearer \" + localStorage.getItem(\"currentUser_token\");\r\n            this.$router.push({ path: \"/\" });\r\n            location.reload();\r\n          }.bind(this)\r\n        )\r\n        .catch(\r\n          function(error) {\r\n            this.$Message.error(\"登陆失败\");\r\n          }.bind(this)\r\n        );\r\n    },\r\n    /*qq登录*/\r\n    qqLogin(code) {\r\n      this.axios({\r\n        method: \"post\",\r\n        url: \"/authentication/qq\",\r\n        params: {\r\n          code: code\r\n        },\r\n        auth: {\r\n          username: \"client\",\r\n          password: \"secret\"\r\n        }\r\n      })\r\n        .then(\r\n          function(response) {\r\n            localStorage.setItem(\r\n              \"currentUser_token\",\r\n              response.data.access_token\r\n            );\r\n            localStorage.setItem(\r\n              \"currentUser_refresh_token\",\r\n              response.data.refresh_token\r\n            );\r\n            this.axios.defaults.headers.common[\"Authorization\"] =\r\n              \"bearer \" + localStorage.getItem(\"currentUser_token\");\r\n            this.$router.push({ path: \"/qq\" });\r\n            this.$router.push({ path: \"/\" });\r\n            location.reload();\r\n          }.bind(this)\r\n        )\r\n        .catch(\r\n          function(error) {\r\n            this.$Message.error(\"登陆失败\");\r\n          }.bind(this)\r\n        );\r\n    },\r\n\r\n    toMessages() {\r\n      console.log(\"to messages page\");\r\n      this.$router.push({ path: \"/page/messages\" });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=10cf927c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=10cf927c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10cf927c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}