(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db0b1"],{"6dd1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("div",[a("ul",[a("li",[a("Button",{attrs:{type:"error",icon:"md-trash"},on:{click:function(e){return t.del()}}},[t._v("删除")])],1),a("li",[a("div",{staticStyle:{padding:"10px 0"}},[a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1,height:400},on:{"on-selection-change":function(e){t.change(e)},"on-row-dblclick":function(e){t.dblclick(e)}}})],1)]),a("li",[a("div",{staticStyle:{"text-align":"right"}},[a("Page",{attrs:{total:t.total,"page-size":t.pageInfo.pageSize,"show-elevator":"","show-total":""},on:{"on-change":function(e){t.pageSearch(e)}}})],1)])])]),a("Modal",{attrs:{"mask-closable":!1,visible:t.modal,width:"600",title:"查看"},on:{"update:visible":function(e){t.modal=e}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{attrs:{"label-width":80}},[a("Form-item",{attrs:{label:"用户名:"}},[a("strong",[t._v(t._s(t.email.username))])]),a("Form-item",{attrs:{label:"内容:"}},[a("span",[t._v(t._s(t.email.content))])])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large"},on:{click:t.cancel}},[t._v("关闭")])],1)],1)],1)},n=[],l={data:function(){var t=this;return{modal:!1,total:0,pageInfo:{page:0,pageSize:10},email:{id:null,username:null,title:null,email:null,name:null,content:null,createtime:null},columns1:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name"},{title:"标题",width:500,key:"title"},{title:"email",key:"email"},{title:"时间",key:"createtime"},{title:"操作",align:"center",key:"action",render:function(e,a){return e("div",[e("Button",{props:{type:"info"},on:{click:function(){t.emailInfo(a.row)}}},"查看")])}}],data1:[]}},mounted:function(){this.getTable({pageInfo:this.pageInfo})},methods:{initPageInfo:function(){this.pageInfo.page=0,this.pageInfo.pageSize=10},emailSet:function(t){this.email.id=t.id,this.email.username=t.username,this.email.title=t.title,this.email.email=t.email,this.email.name=t.name,this.email.content=t.content,this.email.createtime=t.createtime},dateGet:function(t){var e=new Date(parseInt(t));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()},listDateSet:function(t){for(var e=t.length-1;e>=0;e--)t[e].createtime=this.dateGet(t[e].createtime)},getTable:function(t){this.axios({method:"get",url:"/emails",params:{page:t.pageInfo.page,pageSize:t.pageInfo.pageSize}}).then(function(t){this.data1=t.data.data.data,this.listDateSet(this.data1),this.total=t.data.data.totalCount}.bind(this)).catch((function(t){alert(t)}))},pageSearch:function(t){this.pageInfo.page=t-1,this.getTable({pageInfo:this.pageInfo})},cancel:function(){this.modal=!1},dblclick:function(t){this.emailSet(t),this.modal=!0},emailInfo:function(t){this.emailSet(t),this.modal=!0},del:function(){null!=this.groupId&&""!=this.groupId&&this.axios({method:"delete",url:"/admin/emails",data:this.groupId}).then(function(t){this.getTable({pageInfo:this.pageInfo}),this.groupId=[],this.$Message.info("删除成功")}.bind(this)).catch((function(t){alert(t)}))},change:function(t){this.setGroupId(t)},setGroupId:function(t){this.groupId=[];for(var e=0;e<=t.length-1;e++)this.groupId.push(t[e].id)}}},o=l,s=a("2877"),c=Object(s["a"])(o,i,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0db0b1.d56bb572.js.map