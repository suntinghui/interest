(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c6b042a"],{"5a27":function(t,e,n){"use strict";var i=n("f997"),o=n.n(i);o.a},e41a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-background"},[n("Form",{ref:"entity",staticClass:"form",attrs:{model:t.entity,rules:t.ruleNew,"label-width":80}},[n("Form-item",{attrs:{label:"标题：",prop:"title"}},[n("Input",{model:{value:t.entity.title,callback:function(e){t.$set(t.entity,"title",e)},expression:"entity.title"}})],1),n("Form-item",{attrs:{label:"详情：",prop:"content"}},[n("interest-quill-editor",{staticClass:"editor",attrs:{interestContent:t.interestContent},on:{"editor-change":function(e){t.contentGet(e)}}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.submit("entity")}}},[t._v("发布")]),n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)],1),n("Modal",{attrs:{width:"360"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),n("span",[t._v("温馨提示")])],1),n("div",{staticStyle:{"text-align":"center"}},[n("p",[t._v("为保证服务正常运行，每个用户每日只能发布一篇文章，是否确认发布？")])]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"error",size:"large",long:"",loading:t.modal_loading},on:{click:function(e){return t.publish()}}},[t._v("确认")])],1)])],1)},o=[],s=n("74ac"),r={components:{"interest-quill-editor":s["a"]},data:function(){return{modal:!1,modal_loading:!1,interestContent:"",content:null,entity:{title:null,content:null},ruleNew:{title:[{type:"string",required:!0,message:"填写标题",trigger:"blur"}],content:[{type:"string",required:!0,message:"填写内容",trigger:"blur"}]}}},mounted:function(){},methods:{initEntity:function(){this.entity.title=null,this.entity.content=null},entitySet:function(t){this.entity.title=t.title,this.entity.content=t.content},contentGet:function(t){this.entity.content=t},submit:function(t){var e=this;this.$refs[t].validate((function(t){t&&(e.modal=!0)}))},publish:function(){this.modal_loading=!0,this.axios({method:"post",url:"/article",data:this.entity}).then(function(t){var e=this;"2000"==t.data.status?(this.interestContent=this.interestContent+".",this.initEntity(),setTimeout((function(){e.modal_loading=!1,e.modal=!1,e.$router.push("/article/create/success")}),2e3)):"6001"==t.data.status&&(this.modal_loading=!1,this.$Message.error(t.data.message))}.bind(this)).catch(function(t){this.$Message.error("新建失败")}.bind(this))},reset:function(){this.interestContent=this.interestContent+".",this.initEntity()}}},a=r,l=(n("5a27"),n("2877")),c=Object(l["a"])(a,i,o,!1,null,null,null);e["default"]=c.exports},f997:function(t,e,n){}}]);
//# sourceMappingURL=chunk-5c6b042a.4af8daad.js.map