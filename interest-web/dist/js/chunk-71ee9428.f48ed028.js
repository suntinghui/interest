(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71ee9428"],{"0d5c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"mywork"}},[i("div",{staticClass:"page-header-main"},[i("div",{staticClass:"box-flex width-80 margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center"},[i("div",{staticClass:"line-height-50 font-size-22"},[t._v(t._s(t.insterest.title))]),i("div",{staticClass:"text-align-center margin-top-2"}),i("div",{staticClass:"detailContent ql-editor",staticStyle:{width:"100%","margin-top":"20px"},domProps:{innerHTML:t._s(t.insterest.content)}}),i("div",{staticStyle:{width:"100%",margin:"10% 0 20px 0"}},[t._m(0),t._l(t.postcardList,(function(e,a){return i("Card",{key:a},[i("div",{staticClass:"clearfix head"},[i("div",{staticClass:"layout-left",staticStyle:{"margin-top":"2px"}},[i("a",{attrs:{href:e.githuburl,target:"_blank"}},[i("img",{staticStyle:{width:"30px",height:"30px","border-radius":"100%","margin-top":"6px"},attrs:{src:e.headimg}})])]),i("div",{staticClass:"layout-left",staticStyle:{"margin-left":"7px"}},[i("p",{staticStyle:{"font-size":"17px"}},[i("a",{attrs:{href:e.githuburl,target:"_blank"}},[t._v("\n                    \t\t\t\t"+t._s(e.username)+"\n                    \t\t\t")])]),i("p",{staticStyle:{"font-size":"1px"}},[t._v("\n                    \t\t\t"+t._s(e.replytime)+"\n                    \t\t")])]),i("div",{staticClass:"chat"},[i("Icon",{attrs:{type:"md-chatboxes",size:"25"}}),i("span",[t._v(t._s(e.replyCount))])],1)]),i("div",{staticClass:"content"},[i("p",[i("router-link",{attrs:{to:"/mobile/card/"+e.id}},[i("span",{staticClass:"tirtleFont lineThrou"},[t._v(t._s(e.title))])])],1)])])})),i("div",{staticStyle:{"margin-top":"20px"}},[i("Page",{attrs:{total:t.total,"page-size":t.pageInfo.pageSize,"show-total":""},on:{"on-change":function(e){t.pageSearch(e)}}})],1)],2),i("div",{staticClass:"box-flex width-100 margin-auto margin-top-2 border-top border-color-bfbfbf"}),i("div",{staticClass:"box-flex margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center",staticStyle:{width:"100%","margin-bottom":"30px"}},[i("div",{staticClass:" width-100 flex-direction-row"},[i("div",{staticClass:"box-flex flex-1 padding-all-5x"},[i("span",[i("Icon",{attrs:{type:"edit"}}),t._v("发帖")],1)]),i("div",{staticClass:"box-flex flex-6 width-100 padding-all-5x"},[i("Input",{attrs:{placeholder:"标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),i("div",{staticClass:"box-flex flex-6 width-100 padding-all-5x"},[i("Input",{attrs:{type:"textarea",rows:6,placeholder:"内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)]),i("div",{staticClass:"box-flex width-100 margin-top-2 flex-items-flex-end flex-justify-flex-end margin-bottom-3"},[i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.sendCard()}}},[t._v("发表")])],1)])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ivu-card-head",staticStyle:{background:"#eceef2"}},[i("p",[t._v("看帖")])])}],n={data:function(){return{postcardList:[],interestid:null,insterest:{id:"",title:"",info:"",content:"",image:""},total:0,pageInfo:{page:0,pageSize:20},textarea:"",title:""}},mounted:function(){this.interestid=this.$route.params.id,this.getArticle(this.$route.params.id),this.getPostCard({pageInfo:this.pageInfo,interestid:this.interestid})},methods:{getArticle:function(t){this.axios({method:"get",url:"/public/interests/interest",params:{id:t}}).then(function(t){this.insterestSet(t.data.data)}.bind(this)).catch(function(t){alter(t)}.bind(this))},dateGet:function(t){var e=new Date(parseInt(t));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()},listDateSet:function(t){for(var e=t.length-1;e>=0;e--)t[e].replytime=this.dateGet(t[e].replytime)},getPostCard:function(t){this.axios({method:"get",url:"/public/postcards",params:{page:t.pageInfo.page,pageSize:t.pageInfo.pageSize,interestid:t.interestid}}).then(function(t){this.postcardList=t.data.data.data,this.listDateSet(this.postcardList),this.total=t.data.data.totalCount}.bind(this)).catch((function(t){alert(t)}))},pageSearch:function(t){this.pageInfo.page=t-1,this.getPostCard({pageInfo:this.pageInfo,interestid:this.interestid})},insterestSet:function(t){this.insterest.id=t.id,this.insterest.title=t.title,this.insterest.info=t.info,this.insterest.content=t.content,this.insterest.image=t.image},sendCard:function(){null!=this.title&&null!=this.textarea&&""!=this.title&&""!=this.textarea?null!=this.axios.defaults.headers.common["Authorization"]&&""!=this.axios.defaults.headers.common["Authorization"]?this.axios({method:"post",url:"/postcards/postcard",data:{interestid:this.interestid,title:this.title,content:this.textarea}}).then(function(t){this.$Message.info("发帖成功"),this.title="",this.textarea="",this.pageInfo.page=0,this.getPostCard({pageInfo:this.pageInfo,interestid:this.interestid})}.bind(this)).catch(function(t){alter(t)}.bind(this)):this.$Message.error("登录后，才能发帖！"):this.$Message.error("请填写标题和内容")}}},r=n,o=(i("f941"),i("2877")),l=Object(o["a"])(r,a,s,!1,null,null,null);e["default"]=l.exports},dcc9:function(t,e,i){},f941:function(t,e,i){"use strict";var a=i("dcc9"),s=i.n(a);s.a}}]);
//# sourceMappingURL=chunk-71ee9428.f48ed028.js.map