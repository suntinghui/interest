(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a311e4f6"],{"26f1":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"unread-msg-wrapper"},[e._l(e.messages,(function(t,s){return a("Card",{key:t.id,staticClass:"msg-card-item"},[a("div",{on:{click:function(a){return e.read(t.id,t.isread)}}},[a("div",{staticClass:"synopsis"},[a("Avatar",{attrs:{shape:"square",icon:"person",src:t.replyUserHeadimg,title:t.replyUsername}}),a("span",{staticClass:"user-name"},[e._v(e._s(t.replyUsername))]),a("span",{staticClass:"time"},[e._v(e._s(e.dateGet(t.replytime)))]),a("span",[e._v("回复：")]),0==t.form?a("router-link",{attrs:{to:{path:"card/"+t.toId}}},[e._v(e._s(t.title))]):e._e(),1==t.form?a("router-link",{attrs:{to:{path:"/article/detail/"+t.toId}}},[e._v(e._s(t.title))]):e._e()],1),a("Divider"),a("div",{staticClass:"reply-content"},[a("p",[e._v(e._s(t.replyContent))])]),0==t.isread?a("Icon",{staticClass:"unread-symbol",attrs:{type:"md-eye",color:"red",size:"20"}}):e._e()],1)])})),a("Page",{staticClass:"pagin",attrs:{total:e.totalCount,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":function(t){e.pageSearch(t)}}})],2)},r=[],n={name:"messages",data:function(){return{messages:[],pageSize:10,page:0,totalCount:0}},mounted:function(){var e=this;this.axios.get("/msgrecords/user?pageSize= "+e.pageSize+"&page="+e.page).then((function(t){var a=t.data.data;e.messages=a.data,e.totalCount=a.totalCount})).catch((function(t){e.$Message.error("查询失败，请稍后重试")}))},methods:{read:function(e,t){if(1!=t){var a=this;this.axios({method:"put",url:"/msgrecords/read/",params:{msgRecordId:e}}).then(function(t){var s=a.messages.findIndex((function(t){return t.id==e})),r=a.messages[s];r.isread=1,a.messages.splice(s,1,r)}.bind(this)).catch((function(e){a.$Message.error("已读失败，请稍后重试")}))}},pageSearch:function(e){this.page=e-1;var t=this;this.axios.get("/msgrecords/user?pageSize= "+t.pageSize+"&page="+t.page).then((function(e){var a=e.data.data;t.messages=a.data,t.totalCount=a.totalCount})).catch((function(e){t.$Message.error("查询失败，请稍后重试")}))}}},i=n,o=(a("a5e9"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"619203de",null);t["default"]=c.exports},"661d":function(e,t,a){},a5e9:function(e,t,a){"use strict";var s=a("661d"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-a311e4f6.0aa26ddb.js.map