(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b283ef14"],{c344:function(t,e,a){"use strict";var i=a("f768"),s=a.n(i);s.a},e7bf:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"mywork"}},[a("div",{staticClass:"page-header-main"},[a("div",{staticClass:"box-flex width-80 margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center"},[a("div",{staticStyle:{width:"100%",margin:"20px 0 20px 0"}},[a("div",{staticClass:"ivu-card-head",staticStyle:{background:"#eceef2"}},[a("p",[t._v(t._s(t.postcard.title))])]),a("Card",[a("div",{staticClass:"content-right"},[a("div",[a("a",{attrs:{href:t.$store.state.userUrlPre+t.postcard.userid,target:"_blank"}},[a("img",{staticStyle:{width:"25px",height:"25px","border-radius":"100%"},attrs:{src:t.postcard.headimg}}),t._v("\n                                "+t._s(t.postcard.username)+"\n                            ")])]),a("div",{staticStyle:{background:"#5cadff","text-align":"center",color:"#fff","border-radius":"10px"}},[t._v("\n                        楼主\n                      ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-text"},[a("p",[t._v(t._s(t.postcard.content))]),a("span",[a("Icon",{attrs:{type:"ios-time"}}),t._v("\n                              "+t._s(t.postcard.createtime)+"\n                          ")],1)])])]),t._l(t.replyCardList,(function(e,i){return a("Card",{key:i},[a("div",{staticClass:"content-right"},[a("a",{attrs:{href:t.$store.state.userUrlPre+e.userid,target:"_blank"}},[a("img",{staticStyle:{width:"25px",height:"25px","border-radius":"100%"},attrs:{src:e.headimg}}),t._v("\n                            "+t._s(e.username)+"\n                        ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"content-text"},[a("p",[t._v(t._s(e.content))]),a("span",[a("Icon",{attrs:{type:"ios-time"}}),t._v("\n                            "+t._s(e.createtime)+"\n                        ")],1)])])])})),a("div",{staticStyle:{"margin-top":"20px"}},[a("Page",{attrs:{total:t.total,"page-size":t.pageInfo.pageSize,"show-elevator":"","show-total":""},on:{"on-change":function(e){t.pageSearch(e)}}})],1)],2),a("div",{staticClass:"box-flex width-100 margin-auto margin-top-2 border-top border-color-bfbfbf"}),a("div",{staticClass:"box-flex margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center",staticStyle:{width:"100%"}},[a("div",{staticClass:" width-100 flex-direction-row"},[a("div",{staticClass:"box-flex flex-1 padding-all-5x"},[a("span",[a("Icon",{attrs:{type:"edit"}}),t._v("发表回复")],1)]),a("div",{staticClass:"box-flex flex-6 width-100 padding-all-5x"},[a("Input",{attrs:{type:"textarea",rows:6,placeholder:"内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1)]),a("div",{staticClass:"box-flex width-100 margin-top-2 flex-items-flex-end flex-justify-flex-end margin-bottom-3"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.sendCard()}}},[t._v("发表")])],1)])])])])},s=[],r={data:function(){return{total:0,pageInfo:{page:0,pageSize:20},textarea:"",postcardid:null,postcard:{id:"",username:"",title:"",content:"",interestid:"",createtime:"",headimg:"",githuburl:"",userid:""},replyCardList:[]}},mounted:function(){this.postcardid=this.$route.params.id,this.axios({method:"get",url:"/public/postcards/postcard",params:{id:this.postcardid}}).then(function(t){this.postcardSet(t.data.data)}.bind(this)).catch(function(t){alter(t)}.bind(this)),this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},methods:{replyCardListGet:function(t){this.axios({method:"get",url:"/public/replycards",params:{page:t.pageInfo.page,pageSize:t.pageInfo.pageSize,postcardid:t.postcardid}}).then(function(t){this.replyCardList=t.data.data.data,this.listDateSet(this.replyCardList),this.total=t.data.data.totalCount}.bind(this)).catch((function(t){alert(t)}))},listDateSet:function(t){for(var e=t.length-1;e>=0;e--)t[e].createtime=this.dateGet(t[e].createtime)},postcardSet:function(t){this.postcard.id=t.id,this.postcard.username=t.username,this.postcard.title=t.title,this.postcard.content=t.content,this.postcard.interestid=t.interestid,this.postcard.createtime=this.dateGet(t.createtime),this.postcard.headimg=t.headimg,this.postcard.githuburl=t.githuburl,this.postcard.userid=t.userid},pageSearch:function(t){this.pageInfo.page=t-1,this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},sendCard:function(){null!=this.textarea&&""!=this.textarea?null!=this.axios.defaults.headers.common["Authorization"]&&""!=this.axios.defaults.headers.common["Authorization"]?this.axios({method:"post",url:"/replycards/replycard",data:{postcardid:this.postcardid,content:this.textarea}}).then(function(t){this.$Message.info("回复成功"),this.textarea="",this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})}.bind(this)).catch(function(t){this.$Message.error("请重新登录")}.bind(this)):this.$Message.error("登录后，才能回复！"):this.$Message.error("请填写回复内容")}}},n=r,o=(a("c344"),a("2877")),d=Object(o["a"])(n,i,s,!1,null,"2a855dfc",null);e["default"]=d.exports},f768:function(t,e,a){}}]);
//# sourceMappingURL=chunk-b283ef14.2578ad63.js.map