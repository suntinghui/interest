{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-image-crop-upload\\upload-2.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-image-crop-upload\\upload-2.vue","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport language from './utils/language.js';\nimport mimes from './utils/mimes.js';\nimport data2blob from './utils/data2blob.js';\nimport effectRipple from './utils/effectRipple.js';\nexport default {\n  props: {\n    // 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\n    field: {\n      type: String,\n      'default': 'avatar'\n    },\n    // 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\n    ki: {\n      'default': 0\n    },\n    // 显示该控件与否\n    value: {\n      'default': true\n    },\n    // 上传地址\n    url: {\n      type: String,\n      'default': ''\n    },\n    // 其他要上传文件附带的数据，对象格式\n    params: {\n      type: Object,\n      'default': null\n    },\n    //Add custom headers\n    headers: {\n      type: Object,\n      'default': null\n    },\n    // 剪裁图片的宽\n    width: {\n      type: Number,\n      default: 200\n    },\n    // 剪裁图片的高\n    height: {\n      type: Number,\n      default: 200\n    },\n    // 不显示旋转功能\n    noRotate: {\n      type: Boolean,\n      default: true\n    },\n    // 不预览圆形图片\n    noCircle: {\n      type: Boolean,\n      default: false\n    },\n    // 不预览方形图片\n    noSquare: {\n      type: Boolean,\n      default: false\n    },\n    // 单文件大小限制\n    maxSize: {\n      type: Number,\n      'default': 10240\n    },\n    // 语言类型\n    langType: {\n      type: String,\n      'default': 'zh'\n    },\n    // 语言包\n    langExt: {\n      type: Object,\n      'default': null\n    },\n    // 图片上传格式\n    imgFormat: {\n      type: String,\n      'default': 'png'\n    },\n    // 图片背景 jpg情况下生效\n    imgBgc: {\n      type: String,\n      'default': '#fff'\n    },\n    // 是否支持跨域\n    withCredentials: {\n      type: Boolean,\n      'default': false\n    },\n    method: {\n      type: String,\n      'default': 'POST'\n    }\n  },\n  data: function data() {\n    var that = this,\n        imgFormat = that.imgFormat,\n        langType = that.langType,\n        langExt = that.langExt,\n        width = that.width,\n        height = that.height,\n        isSupported = true,\n        allowImgFormat = ['jpg', 'png'],\n        tempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat,\n        lang = language[langType] ? language[langType] : language['en'],\n        mime = mimes[tempImgFormat]; // 规范图片格式\n\n    that.imgFormat = tempImgFormat;\n\n    if (langExt) {\n      Object.assign(lang, langExt);\n    }\n\n    if (typeof FormData != 'function') {\n      isSupported = false;\n    }\n\n    return {\n      // 图片的mime\n      mime: mime,\n      // 语言包\n      lang: lang,\n      // 浏览器是否支持该控件\n      isSupported: isSupported,\n      // 浏览器是否支持触屏事件\n      isSupportTouch: document.hasOwnProperty(\"ontouchstart\"),\n      // 步骤\n      step: 1,\n      //1选择文件 2剪裁 3上传\n      // 上传状态及进度\n      loading: 0,\n      //0未开始 1正在 2成功 3错误\n      progress: 0,\n      // 是否有错误及错误信息\n      hasError: false,\n      errorMsg: '',\n      // 需求图宽高比\n      ratio: width / height,\n      // 原图地址、生成图片地址\n      sourceImg: null,\n      sourceImgUrl: '',\n      createImgUrl: '',\n      // 原图片拖动事件初始值\n      sourceImgMouseDown: {\n        on: false,\n        mX: 0,\n        //鼠标按下的坐标\n        mY: 0,\n        x: 0,\n        //scale原图坐标\n        y: 0\n      },\n      // 生成图片预览的容器大小\n      previewContainer: {\n        width: 100,\n        height: 100\n      },\n      // 原图容器宽高\n      sourceImgContainer: {\n        // sic\n        width: 240,\n        height: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\n\n      },\n      // 原图展示属性\n      scale: {\n        zoomAddOn: false,\n        //按钮缩放事件开启\n        zoomSubOn: false,\n        //按钮缩放事件开启\n        range: 1,\n        //最大100\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        maxWidth: 0,\n        maxHeight: 0,\n        minWidth: 0,\n        //最宽\n        minHeight: 0,\n        naturalWidth: 0,\n        //原宽\n        naturalHeight: 0\n      }\n    };\n  },\n  computed: {\n    // 进度条样式\n    progressStyle: function progressStyle() {\n      var progress = this.progress;\n      return {\n        width: progress + '%'\n      };\n    },\n    // 原图样式\n    sourceImgStyle: function sourceImgStyle() {\n      var scale = this.scale,\n          sourceImgMasking = this.sourceImgMasking,\n          top = scale.y + sourceImgMasking.y + 'px',\n          left = scale.x + sourceImgMasking.x + 'px';\n      return {\n        top: top,\n        left: left,\n        width: scale.width + 'px',\n        height: scale.height + 'px' // 兼容 Opera\n\n      };\n    },\n    // 原图蒙版属性\n    sourceImgMasking: function sourceImgMasking() {\n      var width = this.width,\n          height = this.height,\n          ratio = this.ratio,\n          sourceImgContainer = this.sourceImgContainer,\n          sic = sourceImgContainer,\n          sicRatio = sic.width / sic.height,\n          x = 0,\n          y = 0,\n          w = sic.width,\n          h = sic.height,\n          scale = 1;\n\n      if (ratio < sicRatio) {\n        scale = sic.height / height;\n        w = sic.height * ratio;\n        x = (sic.width - w) / 2;\n      }\n\n      if (ratio > sicRatio) {\n        scale = sic.width / width;\n        h = sic.width / ratio;\n        y = (sic.height - h) / 2;\n      }\n\n      return {\n        scale: scale,\n        // 蒙版相对需求宽高的缩放\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      };\n    },\n    // 原图遮罩样式\n    sourceImgShadeStyle: function sourceImgShadeStyle() {\n      var sourceImgMasking = this.sourceImgMasking,\n          sourceImgContainer = this.sourceImgContainer,\n          sic = sourceImgContainer,\n          sim = sourceImgMasking,\n          w = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2,\n          h = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2;\n      return {\n        width: w + 'px',\n        height: h + 'px'\n      };\n    },\n    previewStyle: function previewStyle() {\n      var width = this.width,\n          height = this.height,\n          ratio = this.ratio,\n          previewContainer = this.previewContainer,\n          pc = previewContainer,\n          w = pc.width,\n          h = pc.height,\n          pcRatio = w / h;\n\n      if (ratio < pcRatio) {\n        w = pc.height * ratio;\n      }\n\n      if (ratio > pcRatio) {\n        h = pc.width / ratio;\n      }\n\n      return {\n        width: w + 'px',\n        height: h + 'px'\n      };\n    }\n  },\n  watch: {\n    value: function value(newValue) {\n      if (newValue && this.loading != 1) {\n        this.reset();\n      }\n    }\n  },\n  methods: {\n    // 点击波纹效果\n    ripple: function ripple(e) {\n      effectRipple(e);\n    },\n    // 关闭控件\n    off: function off() {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.$emit('input', false);\n\n        if (_this.step == 3 && _this.loading == 2) {\n          _this.setStep(1);\n        }\n      }, 200);\n    },\n    // 设置步骤\n    setStep: function setStep(no) {\n      var _this2 = this;\n\n      // 延时是为了显示动画效果呢，哈哈哈\n      setTimeout(function () {\n        _this2.step = no;\n      }, 200);\n    },\n\n    /* 图片选择区域函数绑定\r\n     ---------------------------------------------------------------*/\n    preventDefault: function preventDefault(e) {\n      e.preventDefault();\n      return false;\n    },\n    handleClick: function handleClick(e) {\n      if (this.loading !== 1) {\n        if (e.target !== this.$refs.fileinput) {\n          e.preventDefault();\n\n          if (document.activeElement !== this.$refs) {\n            this.$refs.fileinput.click();\n          }\n        }\n      }\n    },\n    handleChange: function handleChange(e) {\n      e.preventDefault();\n\n      if (this.loading !== 1) {\n        var files = e.target.files || e.dataTransfer.files;\n        this.reset();\n\n        if (this.checkFile(files[0])) {\n          this.setSourceImg(files[0]);\n        }\n      }\n    },\n\n    /* ---------------------------------------------------------------*/\n    // 检测选择的文件是否合适\n    checkFile: function checkFile(file) {\n      var that = this,\n          lang = that.lang,\n          maxSize = that.maxSize; // 仅限图片\n\n      if (file.type.indexOf('image') === -1) {\n        that.hasError = true;\n        that.errorMsg = lang.error.onlyImg;\n        return false;\n      } // 超出大小\n\n\n      if (file.size / 1024 > maxSize) {\n        that.hasError = true;\n        that.errorMsg = lang.error.outOfSize + maxSize + 'kb';\n        return false;\n      }\n\n      return true;\n    },\n    // 重置控件\n    reset: function reset() {\n      var that = this;\n      that.loading = 0;\n      that.hasError = false;\n      that.errorMsg = '';\n      that.progress = 0;\n    },\n    // 设置图片源\n    setSourceImg: function setSourceImg(file) {\n      this.$emit('src-file-set', file.name, file.type, file.size);\n      var that = this,\n          fr = new FileReader();\n\n      fr.onload = function (e) {\n        that.sourceImgUrl = fr.result;\n        that.startCrop();\n      };\n\n      fr.readAsDataURL(file);\n    },\n    // 剪裁前准备工作\n    startCrop: function startCrop() {\n      var that = this,\n          width = that.width,\n          height = that.height,\n          ratio = that.ratio,\n          scale = that.scale,\n          sourceImgUrl = that.sourceImgUrl,\n          sourceImgMasking = that.sourceImgMasking,\n          lang = that.lang,\n          sim = sourceImgMasking,\n          img = new Image();\n      img.src = sourceImgUrl;\n\n      img.onload = function () {\n        var nWidth = img.naturalWidth,\n            nHeight = img.naturalHeight,\n            nRatio = nWidth / nHeight,\n            w = sim.width,\n            h = sim.height,\n            x = 0,\n            y = 0; // 图片像素不达标\n\n        if (nWidth < width || nHeight < height) {\n          that.hasError = true;\n          that.errorMsg = lang.error.lowestPx + width + '*' + height;\n          return false;\n        }\n\n        if (ratio > nRatio) {\n          h = w / nRatio;\n          y = (sim.height - h) / 2;\n        }\n\n        if (ratio < nRatio) {\n          w = h * nRatio;\n          x = (sim.width - w) / 2;\n        }\n\n        scale.range = 0;\n        scale.x = x;\n        scale.y = y;\n        scale.width = w;\n        scale.height = h;\n        scale.minWidth = w;\n        scale.minHeight = h;\n        scale.maxWidth = nWidth * sim.scale;\n        scale.maxHeight = nHeight * sim.scale;\n        scale.naturalWidth = nWidth;\n        scale.naturalHeight = nHeight;\n        that.sourceImg = img;\n        that.createImg();\n        that.setStep(2);\n      };\n    },\n    // 鼠标按下图片准备移动\n    imgStartMove: function imgStartMove(e) {\n      e.preventDefault(); // 支持触摸事件，则鼠标事件无效\n\n      if (this.isSupportTouch && !e.targetTouches) {\n        return false;\n      }\n\n      var et = e.targetTouches ? e.targetTouches[0] : e,\n          sourceImgMouseDown = this.sourceImgMouseDown,\n          scale = this.scale,\n          simd = sourceImgMouseDown;\n      simd.mX = et.screenX;\n      simd.mY = et.screenY;\n      simd.x = scale.x;\n      simd.y = scale.y;\n      simd.on = true;\n    },\n    // 鼠标按下状态下移动，图片移动\n    imgMove: function imgMove(e) {\n      e.preventDefault(); // 支持触摸事件，则鼠标事件无效\n\n      if (this.isSupportTouch && !e.targetTouches) {\n        return false;\n      }\n\n      var et = e.targetTouches ? e.targetTouches[0] : e,\n          _this$sourceImgMouseD = this.sourceImgMouseDown,\n          on = _this$sourceImgMouseD.on,\n          mX = _this$sourceImgMouseD.mX,\n          mY = _this$sourceImgMouseD.mY,\n          x = _this$sourceImgMouseD.x,\n          y = _this$sourceImgMouseD.y,\n          scale = this.scale,\n          sourceImgMasking = this.sourceImgMasking,\n          sim = sourceImgMasking,\n          nX = et.screenX,\n          nY = et.screenY,\n          dX = nX - mX,\n          dY = nY - mY,\n          rX = x + dX,\n          rY = y + dY;\n      if (!on) return;\n\n      if (rX > 0) {\n        rX = 0;\n      }\n\n      if (rY > 0) {\n        rY = 0;\n      }\n\n      if (rX < sim.width - scale.width) {\n        rX = sim.width - scale.width;\n      }\n\n      if (rY < sim.height - scale.height) {\n        rY = sim.height - scale.height;\n      }\n\n      scale.x = rX;\n      scale.y = rY;\n    },\n    // 顺时针旋转图片\n    rotateImg: function rotateImg(e) {\n      var sourceImg = this.sourceImg,\n          _this$scale = this.scale,\n          naturalWidth = _this$scale.naturalWidth,\n          naturalHeight = _this$scale.naturalHeight,\n          width = naturalHeight,\n          height = naturalWidth,\n          canvas = this.$refs.canvas,\n          ctx = canvas.getContext('2d');\n      canvas.width = width;\n      canvas.height = height;\n      ctx.clearRect(0, 0, width, height);\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, width, height);\n      ctx.translate(width, 0);\n      ctx.rotate(Math.PI * 90 / 180);\n      ctx.drawImage(sourceImg, 0, 0, naturalWidth, naturalHeight);\n      var imgUrl = canvas.toDataURL(mimes['png']);\n      this.sourceImgUrl = imgUrl;\n      this.startCrop();\n    },\n    // 按钮按下开始放大\n    startZoomAdd: function startZoomAdd(e) {\n      var that = this,\n          scale = that.scale;\n      scale.zoomAddOn = true;\n\n      function zoom() {\n        if (scale.zoomAddOn) {\n          var range = scale.range >= 100 ? 100 : ++scale.range;\n          that.zoomImg(range);\n          setTimeout(function () {\n            zoom();\n          }, 60);\n        }\n      }\n\n      zoom();\n    },\n    // 按钮松开或移开取消放大\n    endZoomAdd: function endZoomAdd(e) {\n      this.scale.zoomAddOn = false;\n    },\n    // 按钮按下开始缩小\n    startZoomSub: function startZoomSub(e) {\n      var that = this,\n          scale = that.scale;\n      scale.zoomSubOn = true;\n\n      function zoom() {\n        if (scale.zoomSubOn) {\n          var range = scale.range <= 0 ? 0 : --scale.range;\n          that.zoomImg(range);\n          setTimeout(function () {\n            zoom();\n          }, 60);\n        }\n      }\n\n      zoom();\n    },\n    // 按钮松开或移开取消缩小\n    endZoomSub: function endZoomSub(e) {\n      var scale = this.scale;\n      scale.zoomSubOn = false;\n    },\n    zoomChange: function zoomChange(e) {\n      this.zoomImg(e.target.value);\n    },\n    // 缩放原图\n    zoomImg: function zoomImg(newRange) {\n      var that = this,\n          sourceImgMasking = this.sourceImgMasking,\n          sourceImgMouseDown = this.sourceImgMouseDown,\n          scale = this.scale,\n          maxWidth = scale.maxWidth,\n          maxHeight = scale.maxHeight,\n          minWidth = scale.minWidth,\n          minHeight = scale.minHeight,\n          width = scale.width,\n          height = scale.height,\n          x = scale.x,\n          y = scale.y,\n          range = scale.range,\n          sim = sourceImgMasking,\n          sWidth = sim.width,\n          sHeight = sim.height,\n          nWidth = minWidth + (maxWidth - minWidth) * newRange / 100,\n          nHeight = minHeight + (maxHeight - minHeight) * newRange / 100,\n          nX = sWidth / 2 - nWidth / width * (sWidth / 2 - x),\n          nY = sHeight / 2 - nHeight / height * (sHeight / 2 - y); // 判断新坐标是否超过蒙版限制\n\n      if (nX > 0) {\n        nX = 0;\n      }\n\n      if (nY > 0) {\n        nY = 0;\n      }\n\n      if (nX < sWidth - nWidth) {\n        nX = sWidth - nWidth;\n      }\n\n      if (nY < sHeight - nHeight) {\n        nY = sHeight - nHeight;\n      } // 赋值处理\n\n\n      scale.x = nX;\n      scale.y = nY;\n      scale.width = nWidth;\n      scale.height = nHeight;\n      scale.range = newRange;\n      setTimeout(function () {\n        if (scale.range == newRange) {\n          that.createImg();\n        }\n      }, 300);\n    },\n    // 生成需求图片\n    createImg: function createImg(e) {\n      var that = this,\n          imgFormat = that.imgFormat,\n          imgBgc = that.imgBgc,\n          mime = that.mime,\n          sourceImg = that.sourceImg,\n          _that$scale = that.scale,\n          x = _that$scale.x,\n          y = _that$scale.y,\n          width = _that$scale.width,\n          height = _that$scale.height,\n          scale = that.sourceImgMasking.scale,\n          canvas = that.$refs.canvas,\n          ctx = canvas.getContext('2d');\n\n      if (e) {\n        // 取消鼠标按下移动状态\n        that.sourceImgMouseDown.on = false;\n      }\n\n      canvas.width = that.width;\n      canvas.height = that.height;\n      ctx.clearRect(0, 0, that.width, that.height);\n\n      if (imgFormat == 'png') {\n        ctx.fillStyle = 'rgba(0,0,0,0)';\n      } else {\n        // 如果jpg 为透明区域设置背景，默认白色\n        ctx.fillStyle = imgBgc;\n      }\n\n      ctx.fillRect(0, 0, that.width, that.height);\n      ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale);\n      that.createImgUrl = canvas.toDataURL(mime);\n    },\n    prepareUpload: function prepareUpload() {\n      var url = this.url,\n          createImgUrl = this.createImgUrl,\n          field = this.field,\n          ki = this.ki;\n      this.$emit('crop-success', createImgUrl, field, ki);\n\n      if (typeof url == 'string' && url) {\n        this.upload();\n      } else {\n        this.off();\n      }\n    },\n    // 上传图片\n    upload: function upload() {\n      var that = this,\n          lang = this.lang,\n          imgFormat = this.imgFormat,\n          mime = this.mime,\n          url = this.url,\n          params = this.params,\n          headers = this.headers,\n          field = this.field,\n          ki = this.ki,\n          createImgUrl = this.createImgUrl,\n          withCredentials = this.withCredentials,\n          method = this.method,\n          fmData = new FormData();\n      fmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat); // 添加其他参数\n\n      if (_typeof(params) == 'object' && params) {\n        Object.keys(params).forEach(function (k) {\n          fmData.append(k, params[k]);\n        });\n      } // 监听进度回调\n\n\n      var uploadProgress = function uploadProgress(event) {\n        if (event.lengthComputable) {\n          that.progress = 100 * Math.round(event.loaded) / event.total;\n        }\n      }; // 上传文件\n\n\n      that.reset();\n      that.loading = 1;\n      that.setStep(3);\n      new Promise(function (resolve, reject) {\n        var client = new XMLHttpRequest();\n        client.open(method, url, true);\n        client.withCredentials = withCredentials;\n\n        client.onreadystatechange = function () {\n          if (this.readyState !== 4) {\n            return;\n          }\n\n          if (this.status === 200 || this.status === 201) {\n            resolve(JSON.parse(this.responseText));\n          } else {\n            reject(this.status);\n          }\n        };\n\n        client.upload.addEventListener(\"progress\", uploadProgress, false); //监听进度\n        // 设置header\n\n        if (_typeof(headers) == 'object' && headers) {\n          Object.keys(headers).forEach(function (k) {\n            client.setRequestHeader(k, headers[k]);\n          });\n        }\n\n        client.send(fmData);\n      }).then( // 上传成功\n      function (resData) {\n        if (that.value) {\n          that.loading = 2;\n          that.$emit('crop-upload-success', resData, field, ki);\n        }\n      }, // 上传失败\n      function (sts) {\n        if (that.value) {\n          that.loading = 3;\n          that.hasError = true;\n          that.errorMsg = lang.fail;\n          that.$emit('crop-upload-fail', sts, field, ki);\n        }\n      });\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    // 绑定按键esc隐藏此插件事件\n    document.addEventListener('keyup', function (e) {\n      if (_this3.value && (e.key == 'Escape' || e.keyCode == 27)) {\n        _this3.off();\n      }\n    });\n  }\n};",{"version":3,"sources":["upload-2.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"vue-image-crop-upload\" v-show=\"value\">\r\n\t<div class=\"vicp-wrap\">\r\n\t\t<div class=\"vicp-close\" @click=\"off\">\r\n\t\t\t<i class=\"vicp-icon4\"></i>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step1\" v-show=\"step == 1\">\r\n\t\t\t<div class=\"vicp-drop-area\" @dragleave=\"preventDefault\" @dragover=\"preventDefault\" @dragenter=\"preventDefault\" @click=\"handleClick\" @drop=\"handleChange\">\r\n\t\t\t\t<i class=\"vicp-icon1\" v-show=\"loading != 1\">\r\n\t\t\t\t<i class=\"vicp-icon1-arrow\"></i>\r\n\t\t\t\t<i class=\"vicp-icon1-body\"></i>\r\n\t\t\t\t<i class=\"vicp-icon1-bottom\"></i>\r\n\t\t\t\t</i>\r\n\t\t\t\t<span class=\"vicp-hint\" v-show=\"loading !== 1\">{{ lang.hint }}</span>\r\n\t\t\t\t<span class=\"vicp-no-supported-hint\" v-show=\"!isSupported\">{{ lang.noSupported }}</span>\r\n\t\t\t\t<input type=\"file\" v-show=\"false\" v-if=\"step == 1\" @change=\"handleChange\" ref=\"fileinput\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\r\n\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.off }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step2\" v-if=\"step == 2\">\r\n\t\t\t<div class=\"vicp-crop\">\r\n\t\t\t\t<div class=\"vicp-crop-left\" v-show=\"true\">\r\n\t\t\t\t\t<div class=\"vicp-img-container\">\r\n\t\t\t\t\t\t<img :src=\"sourceImgUrl\" :style=\"sourceImgStyle\" class=\"vicp-img\" draggable=\"false\"\r\n\t\t\t\t\t\t\t@drag=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragstart=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragend=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragleave=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragover=\"preventDefault\"\r\n\t\t\t\t\t\t\t@dragenter=\"preventDefault\"\r\n\t\t\t\t\t\t\t@drop=\"preventDefault\"\r\n\t\t\t\t\t\t\t@touchstart=\"imgStartMove\"\r\n\t\t\t\t\t\t\t@touchmove=\"imgMove\"\r\n\t\t\t\t\t\t\t@touchend=\"createImg\"\r\n\t\t\t\t\t\t\t@touchcancel=\"createImg\"\r\n\t\t\t\t\t\t\t@mousedown=\"imgStartMove\"\r\n\t\t\t\t\t\t\t@mousemove=\"imgMove\"\r\n\t\t\t\t\t\t\t@mouseup=\"createImg\"\r\n\t\t\t\t\t\t\t@mouseout=\"createImg\"\r\n\t\t\t\t\t\t\tref=\"img\">\r\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-1\" :style=\"sourceImgShadeStyle\"></div>\r\n\t\t\t\t\t\t<div class=\"vicp-img-shade vicp-img-shade-2\" :style=\"sourceImgShadeStyle\"></div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"vicp-range\">\r\n\t\t\t\t\t\t<input type=\"range\" :value=\"scale.range\" step=\"1\" min=\"0\" max=\"100\" @mousemove=\"zoomChange\">\r\n\t\t\t\t\t\t<i @mousedown=\"startZoomSub\" @mouseout=\"endZoomSub\" @mouseup=\"endZoomSub\" class=\"vicp-icon5\"></i>\r\n\t\t\t\t\t\t<i @mousedown=\"startZoomAdd\" @mouseout=\"endZoomAdd\" @mouseup=\"endZoomAdd\" class=\"vicp-icon6\"></i>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"vicp-rotate\" v-if=\"!noRotate\">\r\n                        <i @click=\"rotateImg\">↻</i>\r\n                    </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-crop-right\" v-show=\"true\">\r\n\t\t\t\t\t<div class=\"vicp-preview\">\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item\" v-if=\"!noSquare\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"vicp-preview-item vicp-preview-item-circle\" v-if=\"!noCircle\">\r\n\t\t\t\t\t\t\t<img :src=\"createImgUrl\" :style=\"previewStyle\">\r\n\t\t\t\t\t\t\t<span>{{ lang.preview }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"setStep(1)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n\t\t\t\t<a class=\"vicp-operate-btn\" @click=\"prepareUpload\" @mousedown=\"ripple\">{{ lang.btn.save }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"vicp-step3\" v-if=\"step == 3\">\r\n\t\t\t<div class=\"vicp-upload\">\r\n\t\t\t\t<span class=\"vicp-loading\" v-show=\"loading === 1\">{{ lang.loading }}</span>\r\n\t\t\t\t<div class=\"vicp-progress-wrap\">\r\n\t\t\t\t\t<span class=\"vicp-progress\" v-show=\"loading === 1\" :style=\"progressStyle\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-error\" v-show=\"hasError\">\r\n\t\t\t\t\t<i class=\"vicp-icon2\"></i> {{ errorMsg }}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"vicp-success\" v-show=\"loading === 2\">\r\n\t\t\t\t\t<i class=\"vicp-icon3\"></i> {{ lang.success }}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"vicp-operate\">\r\n\t\t\t\t<a @click=\"setStep(2)\" @mousedown=\"ripple\">{{ lang.btn.back }}</a>\r\n\t\t\t\t<a @click=\"off\" @mousedown=\"ripple\">{{ lang.btn.close }}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<canvas v-show=\"false\" :width=\"width\" :height=\"height\" ref=\"canvas\"></canvas>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n'use strict';\r\nimport language from './utils/language.js';\r\nimport mimes from './utils/mimes.js';\r\nimport data2blob from './utils/data2blob.js';\r\nimport effectRipple from './utils/effectRipple.js';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\t// 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n\t\tfield: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'avatar'\r\n\t\t},\r\n\t\t// 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分\r\n\t\tki: {\r\n\t\t\t'default': 0\r\n\t\t},\r\n\t\t// 显示该控件与否\r\n\t\tvalue: {\r\n\t\t\t'default': true\r\n\t\t},\r\n\t\t// 上传地址\r\n\t\turl: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': ''\r\n\t\t},\r\n\t\t// 其他要上传文件附带的数据，对象格式\r\n\t\tparams: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t//Add custom headers\r\n\t\theaders: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t// 剪裁图片的宽\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\t// 剪裁图片的高\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 200\r\n\t\t},\r\n\t\t// 不显示旋转功能\r\n\t\tnoRotate: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\t// 不预览圆形图片\r\n\t\tnoCircle: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 不预览方形图片\r\n\t\tnoSquare: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\t// 单文件大小限制\r\n\t\tmaxSize: {\r\n\t\t\ttype: Number,\r\n\t\t\t'default': 10240\r\n\t\t},\r\n\t\t// 语言类型\r\n\t\tlangType: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'zh'\r\n\t\t},\r\n\t\t// 语言包\r\n\t\tlangExt: {\r\n\t\t\ttype: Object,\r\n\t\t\t'default': null\r\n\t\t},\r\n\t\t// 图片上传格式\r\n\t\timgFormat: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'png'\r\n\t\t},\r\n\t\t// 图片背景 jpg情况下生效\r\n\t\timgBgc: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': '#fff'\r\n\t\t},\r\n\t\t// 是否支持跨域\r\n\t\twithCredentials: {\r\n\t\t\ttype: Boolean,\r\n\t\t\t'default': false\r\n\t\t},\r\n\t\tmethod: {\r\n\t\t\ttype: String,\r\n\t\t\t'default': 'POST'\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\tlet that = this,\r\n\t\t\t{\r\n\t\t\t\timgFormat,\r\n\t\t\t\tlangType,\r\n\t\t\t\tlangExt,\r\n\t\t\t\twidth,\r\n\t\t\t\theight\r\n\t\t\t} = that,\r\n\t\t\tisSupported = true,\r\n\t\t\tallowImgFormat = [\r\n\t\t\t\t'jpg',\r\n\t\t\t\t'png'\r\n\t\t\t],\r\n\t\t\ttempImgFormat = allowImgFormat.indexOf(imgFormat) === -1 ? 'jpg' : imgFormat,\r\n\t\t\tlang = language[langType] ? language[langType] : language['en'],\r\n\t\t\tmime = mimes[tempImgFormat];\r\n\t\t// 规范图片格式\r\n\t\tthat.imgFormat = tempImgFormat;\r\n\r\n\t\tif (langExt) {\r\n\t\t\tObject.assign(lang, langExt);\r\n\t\t}\r\n\t\tif (typeof FormData != 'function') {\r\n\t\t\tisSupported = false;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t// 图片的mime\r\n\t\t\tmime,\r\n\r\n\t\t\t// 语言包\r\n\t\t\tlang,\r\n\r\n\t\t\t// 浏览器是否支持该控件\r\n\t\t\tisSupported,\r\n\t\t\t// 浏览器是否支持触屏事件\r\n\t\t\tisSupportTouch: document.hasOwnProperty(\"ontouchstart\"),\r\n\r\n\t\t\t// 步骤\r\n\t\t\tstep: 1, //1选择文件 2剪裁 3上传\r\n\r\n\t\t\t// 上传状态及进度\r\n\t\t\tloading: 0, //0未开始 1正在 2成功 3错误\r\n\t\t\tprogress: 0,\r\n\r\n\t\t\t// 是否有错误及错误信息\r\n\t\t\thasError: false,\r\n\t\t\terrorMsg: '',\r\n\r\n\t\t\t// 需求图宽高比\r\n\t\t\tratio: width / height,\r\n\r\n\t\t\t// 原图地址、生成图片地址\r\n\t\t\tsourceImg: null,\r\n\t\t\tsourceImgUrl: '',\r\n\t\t\tcreateImgUrl: '',\r\n\r\n\t\t\t// 原图片拖动事件初始值\r\n\t\t\tsourceImgMouseDown: {\r\n\t\t\t\ton: false,\r\n\t\t\t\tmX: 0, //鼠标按下的坐标\r\n\t\t\t\tmY: 0,\r\n\t\t\t\tx: 0, //scale原图坐标\r\n\t\t\t\ty: 0\r\n\t\t\t},\r\n\r\n\t\t\t// 生成图片预览的容器大小\r\n\t\t\tpreviewContainer: {\r\n\t\t\t\twidth: 100,\r\n\t\t\t\theight: 100\r\n\t\t\t},\r\n\r\n\t\t\t// 原图容器宽高\r\n\t\t\tsourceImgContainer: { // sic\r\n\t\t\t\twidth: 240,\r\n\t\t\t\theight: 184 // 如果生成图比例与此一致会出现bug，先改成特殊的格式吧，哈哈哈\r\n\t\t\t},\r\n\r\n\t\t\t// 原图展示属性\r\n\t\t\tscale: {\r\n\t\t\t\tzoomAddOn: false, //按钮缩放事件开启\r\n\t\t\t\tzoomSubOn: false, //按钮缩放事件开启\r\n\t\t\t\trange: 1, //最大100\r\n\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0,\r\n\t\t\t\tmaxWidth: 0,\r\n\t\t\t\tmaxHeight: 0,\r\n\t\t\t\tminWidth: 0, //最宽\r\n\t\t\t\tminHeight: 0,\r\n\t\t\t\tnaturalWidth: 0, //原宽\r\n\t\t\t\tnaturalHeight: 0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t// 进度条样式\r\n\t\tprogressStyle() {\r\n\t\t\tlet {\r\n\t\t\t\tprogress\r\n\t\t\t} = this;\r\n\t\t\treturn {\r\n\t\t\t\twidth: progress + '%'\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 原图样式\r\n\t\tsourceImgStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgMasking\r\n\t\t\t\t} = this,\r\n\t\t\t\ttop = scale.y + sourceImgMasking.y + 'px',\r\n\t\t\t\tleft = scale.x + sourceImgMasking.x + 'px';\r\n\t\t\treturn {\r\n\t\t\t\ttop,\r\n\t\t\t\tleft,\r\n\t\t\t\twidth: scale.width + 'px',\r\n\t\t\t\theight: scale.height + 'px',// 兼容 Opera\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 原图蒙版属性\r\n\t\tsourceImgMasking() {\r\n\t\t\tlet {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tsourceImgContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tsic = sourceImgContainer,\r\n\t\t\t\tsicRatio = sic.width / sic.height, // 原图容器宽高比\r\n\t\t\t\tx = 0,\r\n\t\t\t\ty = 0,\r\n\t\t\t\tw = sic.width,\r\n\t\t\t\th = sic.height,\r\n\t\t\t\tscale = 1;\r\n\t\t\tif (ratio < sicRatio) {\r\n\t\t\t\tscale = sic.height / height;\r\n\t\t\t\tw = sic.height * ratio;\r\n\t\t\t\tx = (sic.width - w) / 2;\r\n\t\t\t}\r\n\t\t\tif (ratio > sicRatio) {\r\n\t\t\t\tscale = sic.width / width;\r\n\t\t\t\th = sic.width / ratio;\r\n\t\t\t\ty = (sic.height - h) / 2;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tscale, // 蒙版相对需求宽高的缩放\r\n\t\t\t\tx,\r\n\t\t\t\ty,\r\n\t\t\t\twidth: w,\r\n\t\t\t\theight: h\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 原图遮罩样式\r\n\t\tsourceImgShadeStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tsourceImgContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tsic = sourceImgContainer,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\tw = sim.width == sic.width ? sim.width : (sic.width - sim.width) / 2,\r\n\t\t\t\th = sim.height == sic.height ? sim.height : (sic.height - sim.height) / 2;\r\n\t\t\treturn {\r\n\t\t\t\twidth: w + 'px',\r\n\t\t\t\theight: h + 'px'\r\n\t\t\t};\r\n\t\t},\r\n\t\tpreviewStyle() {\r\n\t\t\tlet {\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tpreviewContainer\r\n\t\t\t\t} = this,\r\n\t\t\t\tpc = previewContainer,\r\n\t\t\t\tw = pc.width,\r\n\t\t\t\th = pc.height,\r\n\t\t\t\tpcRatio = w / h;\r\n\t\t\tif (ratio < pcRatio) {\r\n\t\t\t\tw = pc.height * ratio;\r\n\t\t\t}\r\n\t\t\tif (ratio > pcRatio) {\r\n\t\t\t\th = pc.width / ratio;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\twidth: w + 'px',\r\n\t\t\t\theight: h + 'px'\r\n\t\t\t};\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue(newValue) {\r\n\t\t\tif (newValue && this.loading != 1) {\r\n\t\t\t\tthis.reset();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 点击波纹效果\r\n\t\tripple(e) {\r\n\t\t\teffectRipple(e);\r\n\t\t},\r\n\t\t// 关闭控件\r\n\t\toff() {\r\n\t\t\tsetTimeout(()=> {\r\n\t\t\t\tthis.$emit('input', false);\r\n\t\t\t\tif(this.step == 3 && this.loading == 2){\r\n\t\t\t\t\tthis.setStep(1);\r\n\t\t\t\t}\r\n\t\t\t}, 200);\r\n\t\t},\r\n\t\t// 设置步骤\r\n\t\tsetStep(no) {\r\n\t\t\t// 延时是为了显示动画效果呢，哈哈哈\r\n\t\t\tsetTimeout(()=> {\r\n\t\t\t\tthis.step = no;\r\n\t\t\t}, 200);\r\n\t\t},\r\n\r\n\t\t/* 图片选择区域函数绑定\r\n\t\t ---------------------------------------------------------------*/\r\n\t\tpreventDefault(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\thandleClick(e) {\r\n\t\t\tif (this.loading !== 1) {\r\n\t\t\t\tif (e.target !== this.$refs.fileinput) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tif (document.activeElement !== this.$refs) {\r\n\t\t\t\t\t\tthis.$refs.fileinput.click();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleChange(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tif (this.loading !== 1) {\r\n\t\t\t\tlet files = e.target.files || e.dataTransfer.files;\r\n\t\t\t\tthis.reset();\r\n\t\t\t\tif (this.checkFile(files[0])) {\r\n\t\t\t\t\tthis.setSourceImg(files[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t/* ---------------------------------------------------------------*/\r\n\r\n\t\t// 检测选择的文件是否合适\r\n\t\tcheckFile(file) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tlang,\r\n\t\t\t\t\tmaxSize\r\n\t\t\t\t} = that;\r\n\t\t\t// 仅限图片\r\n\t\t\tif (file.type.indexOf('image') === -1) {\r\n\t\t\t\tthat.hasError = true;\r\n\t\t\t\tthat.errorMsg = lang.error.onlyImg;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// 超出大小\r\n\t\t\tif (file.size / 1024 > maxSize) {\r\n\t\t\t\tthat.hasError = true;\r\n\t\t\t\tthat.errorMsg = lang.error.outOfSize + maxSize + 'kb';\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\t// 重置控件\r\n\t\treset() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.loading = 0;\r\n\t\t\tthat.hasError = false;\r\n\t\t\tthat.errorMsg = '';\r\n\t\t\tthat.progress = 0;\r\n\t\t},\r\n\t\t// 设置图片源\r\n\t\tsetSourceImg(file) {\r\n\t\t\tthis.$emit('src-file-set', file.name, file.type, file.size);\r\n\t\t\tlet that = this,\r\n\t\t\t\tfr = new FileReader();\r\n\t\t\tfr.onload = function(e) {\r\n\t\t\t\tthat.sourceImgUrl = fr.result;\r\n\t\t\t\tthat.startCrop();\r\n\t\t\t}\r\n\t\t\tfr.readAsDataURL(file);\r\n\t\t},\r\n\t\t// 剪裁前准备工作\r\n\t\tstartCrop() {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tratio,\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgUrl,\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tlang\r\n\t\t\t\t} = that,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\timg = new Image();\r\n\t\t\timg.src = sourceImgUrl;\r\n\t\t\timg.onload = function() {\r\n\t\t\t\tlet nWidth = img.naturalWidth,\r\n\t\t\t\t\tnHeight = img.naturalHeight,\r\n\t\t\t\t\tnRatio = nWidth / nHeight,\r\n\t\t\t\t\tw = sim.width,\r\n\t\t\t\t\th = sim.height,\r\n\t\t\t\t\tx = 0,\r\n\t\t\t\t\ty = 0;\r\n\t\t\t\t// 图片像素不达标\r\n\t\t\t\tif (nWidth < width || nHeight < height) {\r\n\t\t\t\t\tthat.hasError = true;\r\n\t\t\t\t\tthat.errorMsg = lang.error.lowestPx + width + '*' + height;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif (ratio > nRatio) {\r\n\t\t\t\t\th = w / nRatio;\r\n\t\t\t\t\ty = (sim.height - h) / 2;\r\n\t\t\t\t}\r\n\t\t\t\tif (ratio < nRatio) {\r\n\t\t\t\t\tw = h * nRatio;\r\n\t\t\t\t\tx = (sim.width - w) / 2;\r\n\t\t\t\t}\r\n\t\t\t\tscale.range = 0;\r\n\t\t\t\tscale.x = x;\r\n\t\t\t\tscale.y = y;\r\n\t\t\t\tscale.width = w;\r\n\t\t\t\tscale.height = h;\r\n\t\t\t\tscale.minWidth = w;\r\n\t\t\t\tscale.minHeight = h;\r\n\t\t\t\tscale.maxWidth = nWidth * sim.scale;\r\n\t\t\t\tscale.maxHeight = nHeight * sim.scale;\r\n\t\t\t\tscale.naturalWidth = nWidth;\r\n\t\t\t\tscale.naturalHeight = nHeight;\r\n\t\t\t\tthat.sourceImg = img;\r\n\t\t\t\tthat.createImg();\r\n\t\t\t\tthat.setStep(2);\r\n\t\t\t};\r\n\t\t},\r\n\t\t// 鼠标按下图片准备移动\r\n\t\timgStartMove(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// 支持触摸事件，则鼠标事件无效\r\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMouseDown,\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = this,\r\n\t\t\t\tsimd = sourceImgMouseDown;\r\n\t\t\tsimd.mX = et.screenX;\r\n\t\t\tsimd.mY = et.screenY;\r\n\t\t\tsimd.x = scale.x;\r\n\t\t\tsimd.y = scale.y;\r\n\t\t\tsimd.on = true;\r\n\t\t},\r\n\t\t// 鼠标按下状态下移动，图片移动\r\n\t\timgMove(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\t// 支持触摸事件，则鼠标事件无效\r\n\t\t\tif(this.isSupportTouch && !e.targetTouches){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet et = e.targetTouches ? e.targetTouches[0] : e,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMouseDown: {\r\n\t\t\t\t\t\ton,\r\n\t\t\t\t\t\tmX,\r\n\t\t\t\t\t\tmY,\r\n\t\t\t\t\t\tx,\r\n\t\t\t\t\t\ty\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscale,\r\n\t\t\t\t\tsourceImgMasking\r\n\t\t\t\t} = this,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\tnX = et.screenX,\r\n\t\t\t\tnY = et.screenY,\r\n\t\t\t\tdX = nX - mX,\r\n\t\t\t\tdY = nY - mY,\r\n\t\t\t\trX = x + dX,\r\n\t\t\t\trY = y + dY;\r\n\t\t\tif (!on) return;\r\n\t\t\tif (rX > 0) {\r\n\t\t\t\trX = 0;\r\n\t\t\t}\r\n\t\t\tif (rY > 0) {\r\n\t\t\t\trY = 0;\r\n\t\t\t}\r\n\t\t\tif (rX < sim.width - scale.width) {\r\n\t\t\t\trX = sim.width - scale.width;\r\n\t\t\t}\r\n\t\t\tif (rY < sim.height - scale.height) {\r\n\t\t\t\trY = sim.height - scale.height;\r\n\t\t\t}\r\n\t\t\tscale.x = rX;\r\n\t\t\tscale.y = rY;\r\n\t\t},\r\n\t\t// 顺时针旋转图片\r\n        rotateImg(e) {\r\n\t\t\tlet {\r\n\t\t\t\t\tsourceImg,\r\n                    scale: {\r\n\t\t\t\t\t\tnaturalWidth,\r\n\t\t\t\t\t\tnaturalHeight,\r\n                    }\r\n                } = this,\r\n\t\t\t\twidth = naturalHeight,\r\n\t\t\t\theight = naturalWidth,\r\n                canvas = this.$refs.canvas,\r\n                ctx = canvas.getContext('2d');\r\n\t\t\tcanvas.width = width;\r\n            canvas.height = height;\r\n            ctx.clearRect(0, 0, width, height);\r\n\r\n\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\tctx.fillRect(0, 0, width, height);\r\n\r\n\t\t\tctx.translate(width, 0);\r\n            ctx.rotate(Math.PI * 90 / 180);\r\n\r\n            ctx.drawImage(sourceImg, 0, 0, naturalWidth, naturalHeight);\r\n            let imgUrl = canvas.toDataURL(mimes['png']);\r\n\r\n\t\t\tthis.sourceImgUrl = imgUrl;\r\n\t\t\tthis.startCrop();\r\n        },\r\n\r\n\t\t// 按钮按下开始放大\r\n\t\tstartZoomAdd(e) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = that;\r\n\t\t\tscale.zoomAddOn = true;\r\n\r\n\t\t\tfunction zoom() {\r\n\t\t\t\tif (scale.zoomAddOn) {\r\n\t\t\t\t\tlet range = scale.range >= 100 ? 100 : ++scale.range;\r\n\t\t\t\t\tthat.zoomImg(range);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tzoom();\r\n\t\t\t\t\t}, 60);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tzoom();\r\n\t\t},\r\n\t\t// 按钮松开或移开取消放大\r\n\t\tendZoomAdd(e) {\r\n\t\t\tthis.scale.zoomAddOn = false;\r\n\t\t},\r\n\t\t// 按钮按下开始缩小\r\n\t\tstartZoomSub(e) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = that;\r\n\t\t\tscale.zoomSubOn = true;\r\n\r\n\t\t\tfunction zoom() {\r\n\t\t\t\tif (scale.zoomSubOn) {\r\n\t\t\t\t\tlet range = scale.range <= 0 ? 0 : --scale.range;\r\n\t\t\t\t\tthat.zoomImg(range);\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tzoom();\r\n\t\t\t\t\t}, 60);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tzoom();\r\n\t\t},\r\n\t\t// 按钮松开或移开取消缩小\r\n\t\tendZoomSub(e) {\r\n\t\t\tlet {\r\n\t\t\t\tscale\r\n\t\t\t} = this;\r\n\t\t\tscale.zoomSubOn = false;\r\n\t\t},\r\n\t\tzoomChange(e) {\r\n\t\t\tthis.zoomImg(e.target.value);\r\n\t\t},\r\n\t\t// 缩放原图\r\n\t\tzoomImg(newRange) {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tsourceImgMasking,\r\n\t\t\t\t\tsourceImgMouseDown,\r\n\t\t\t\t\tscale\r\n\t\t\t\t} = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tmaxWidth,\r\n\t\t\t\t\tmaxHeight,\r\n\t\t\t\t\tminWidth,\r\n\t\t\t\t\tminHeight,\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight,\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty,\r\n\t\t\t\t\trange\r\n\t\t\t\t} = scale,\r\n\t\t\t\tsim = sourceImgMasking,\r\n\t\t\t\t// 蒙版宽高\r\n\t\t\t\tsWidth = sim.width,\r\n\t\t\t\tsHeight = sim.height,\r\n\t\t\t\t// 新宽高\r\n\t\t\t\tnWidth = minWidth + (maxWidth - minWidth) * newRange / 100,\r\n\t\t\t\tnHeight = minHeight + (maxHeight - minHeight) * newRange / 100,\r\n\t\t\t\t// 新坐标（根据蒙版中心点缩放）\r\n\t\t\t\tnX = sWidth / 2 - (nWidth / width) * (sWidth / 2 - x),\r\n\t\t\t\tnY = sHeight / 2 - (nHeight / height) * (sHeight / 2 - y);\r\n\r\n\t\t\t// 判断新坐标是否超过蒙版限制\r\n\t\t\tif (nX > 0) {\r\n\t\t\t\tnX = 0;\r\n\t\t\t}\r\n\t\t\tif (nY > 0) {\r\n\t\t\t\tnY = 0;\r\n\t\t\t}\r\n\t\t\tif (nX < sWidth - nWidth) {\r\n\t\t\t\tnX = sWidth - nWidth;\r\n\t\t\t}\r\n\t\t\tif (nY < sHeight - nHeight) {\r\n\t\t\t\tnY = sHeight - nHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// 赋值处理\r\n\t\t\tscale.x = nX;\r\n\t\t\tscale.y = nY;\r\n\t\t\tscale.width = nWidth;\r\n\t\t\tscale.height = nHeight;\r\n\t\t\tscale.range = newRange;\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tif (scale.range == newRange) {\r\n\t\t\t\t\tthat.createImg();\r\n\t\t\t\t}\r\n\t\t\t}, 300);\r\n\t\t},\r\n\t\t // 生成需求图片\r\n        createImg(e) {\r\n            let that = this,\r\n                {\r\n\t\t\t\t\timgFormat,\r\n\t\t\t\t\timgBgc,\r\n                    mime,\r\n                    sourceImg,\r\n                    scale: {\r\n                        x,\r\n                        y,\r\n                        width,\r\n                        height,\r\n                    },\r\n                    sourceImgMasking: {\r\n                        scale\r\n                    }\r\n                } = that,\r\n                canvas = that.$refs.canvas,\r\n                ctx = canvas.getContext('2d');\r\n            if (e) {\r\n                // 取消鼠标按下移动状态\r\n                that.sourceImgMouseDown.on = false;\r\n            }\r\n\t\t\tcanvas.width = that.width;\r\n            canvas.height = that.height;\r\n            ctx.clearRect(0, 0, that.width, that.height);\r\n\r\n\t\t\tif(imgFormat == 'png'){\r\n\t\t\t\tctx.fillStyle = 'rgba(0,0,0,0)';\r\n\t\t\t} else{\r\n\t\t\t\t// 如果jpg 为透明区域设置背景，默认白色\r\n\t\t\t\tctx.fillStyle = imgBgc;\r\n\t\t\t}\r\n\t\t\tctx.fillRect(0, 0, that.width, that.height);\r\n\r\n            ctx.drawImage(sourceImg, x / scale, y / scale, width / scale, height / scale);\r\n            that.createImgUrl = canvas.toDataURL(mime);\r\n        },\r\n\t\tprepareUpload(){\r\n\t\t\tlet {\r\n\t\t\t\turl,\r\n\t\t\t\tcreateImgUrl,\r\n\t\t\t\tfield,\r\n\t\t\t\tki\r\n\t\t\t} = this;\r\n\t\t\tthis.$emit('crop-success', createImgUrl, field, ki);\r\n\t\t\tif(typeof url == 'string' && url){\r\n\t\t\t\tthis.upload();\r\n\t\t\t}else{\r\n\t\t\t\tthis.off();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 上传图片\r\n\t\tupload() {\r\n\t\t\tlet that = this,\r\n\t\t\t\t{\r\n\t\t\t\t\tlang,\r\n\t\t\t\t\timgFormat,\r\n\t\t\t\t\tmime,\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tparams,\r\n\t\t\t\t\theaders,\r\n\t\t\t\t\tfield,\r\n\t\t\t\t\tki,\r\n\t\t\t\t\tcreateImgUrl,\r\n\t\t\t\t\twithCredentials,\r\n\t\t\t\t\tmethod\r\n\t\t\t\t} = this,\r\n\t\t\t\tfmData = new FormData();\r\n\t\t\tfmData.append(field, data2blob(createImgUrl, mime), field + '.' + imgFormat);\r\n\r\n\t\t\t// 添加其他参数\r\n\t\t\tif (typeof params == 'object' && params) {\r\n\t\t\t\tObject.keys(params).forEach((k) => {\r\n\t\t\t\t\tfmData.append(k, params[k]);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\t// 监听进度回调\r\n\t\t\tconst uploadProgress = function(event) {\r\n\t\t\t\tif (event.lengthComputable) {\r\n\t\t\t\t\tthat.progress = 100 * Math.round(event.loaded) / event.total;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 上传文件\r\n\t\t\tthat.reset();\r\n\t\t\tthat.loading = 1;\r\n\t\t\tthat.setStep(3);\r\n\t\t\tnew Promise(function(resolve, reject) {\r\n\t\t\t\tlet client = new XMLHttpRequest();\r\n\t\t\t\tclient.open(method, url, true);\r\n\t\t\t\tclient.withCredentials = withCredentials;\r\n\t\t\t\tclient.onreadystatechange = function() {\r\n\t\t\t\t\tif (this.readyState !== 4) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.status === 200 || this.status === 201) {\r\n\t\t\t\t\t\tresolve(JSON.parse(this.responseText));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(this.status);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tclient.upload.addEventListener(\"progress\", uploadProgress, false); //监听进度\r\n\t\t\t\t// 设置header\r\n\t\t\t\tif (typeof headers == 'object' && headers) {\r\n\t\t\t\t\tObject.keys(headers).forEach((k) => {\r\n\t\t\t\t\t\tclient.setRequestHeader(k, headers[k]);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tclient.send(fmData);\r\n\t\t\t}).then(\r\n\t\t\t\t// 上传成功\r\n\t\t\t\tfunction(resData) {\r\n\t\t\t\t\tif (that.value) {\r\n\t\t\t\t\t\tthat.loading = 2;\r\n\t\t\t\t\t\tthat.$emit('crop-upload-success', resData, field, ki);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// 上传失败\r\n\t\t\t\tfunction(sts) {\r\n\t\t\t\t\tif (that.value) {\r\n\t\t\t\t\t\tthat.loading = 3;\r\n\t\t\t\t\t\tthat.hasError = true;\r\n\t\t\t\t\t\tthat.errorMsg = lang.fail;\r\n\t\t\t\t\t\tthat.$emit('crop-upload-fail', sts, field, ki);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tcreated(){\r\n\t\t// 绑定按键esc隐藏此插件事件\r\n\t\tdocument.addEventListener('keyup', (e)=>{\r\n\t\t\tif(this.value && (e.key == 'Escape' || e.keyCode == 27)){\r\n\t\t\t\tthis.off();\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\n</script>\r\n\r\n<!--\r\n<style lang='sass' src=\"./scss/upload.scss\">\r\n</style> -->\r\n\r\n<style>\r\n@charset \"UTF-8\";\r\n@-webkit-keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n@keyframes vicp_progress {\r\n  0% {\r\n    background-position-y: 0; }\r\n  100% {\r\n    background-position-y: 40px; } }\r\n\r\n@-webkit-keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n@keyframes vicp {\r\n  0% {\r\n    opacity: 0;\r\n    -webkit-transform: scale(0) translatey(-60px);\r\n            transform: scale(0) translatey(-60px); }\r\n  100% {\r\n    opacity: 1;\r\n    -webkit-transform: scale(1) translatey(0);\r\n            transform: scale(1) translatey(0); } }\r\n\r\n.vue-image-crop-upload {\r\n  position: fixed;\r\n  display: block;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  z-index: 10000;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.65);\r\n  -webkit-tap-highlight-color: transparent;\r\n  -moz-tap-highlight-color: transparent; }\r\n  .vue-image-crop-upload .vicp-wrap {\r\n    -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n    position: fixed;\r\n    display: block;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    z-index: 10000;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: 600px;\r\n    height: 330px;\r\n    padding: 25px;\r\n    background-color: #fff;\r\n    border-radius: 2px;\r\n    -webkit-animation: vicp 0.12s ease-in;\r\n            animation: vicp 0.12s ease-in; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-close {\r\n      position: absolute;\r\n      right: -30px;\r\n      top: -30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\r\n        position: relative;\r\n        display: block;\r\n        width: 30px;\r\n        height: 30px;\r\n        cursor: pointer;\r\n        -webkit-transition: -webkit-transform 0.18s;\r\n        transition: -webkit-transform 0.18s;\r\n        transition: transform 0.18s;\r\n        transition: transform 0.18s, -webkit-transform 0.18s;\r\n        -webkit-transform: rotate(0);\r\n            -ms-transform: rotate(0);\r\n                transform: rotate(0); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\r\n          -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n          content: '';\r\n          position: absolute;\r\n          top: 12px;\r\n          left: 4px;\r\n          width: 20px;\r\n          height: 3px;\r\n          -webkit-transform: rotate(45deg);\r\n              -ms-transform: rotate(45deg);\r\n                  transform: rotate(45deg);\r\n          background-color: #fff; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\r\n          -webkit-transform: rotate(-45deg);\r\n              -ms-transform: rotate(-45deg);\r\n                  transform: rotate(-45deg); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\r\n          -webkit-transform: rotate(90deg);\r\n              -ms-transform: rotate(90deg);\r\n                  transform: rotate(90deg); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed rgba(0, 0, 0, 0.08);\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\r\n        display: block;\r\n        margin: 0 auto 6px;\r\n        width: 42px;\r\n        height: 42px;\r\n        overflow: hidden; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\r\n          display: block;\r\n          margin: 0 auto;\r\n          width: 0;\r\n          height: 0;\r\n          border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\r\n          border-left: 14.7px solid transparent;\r\n          border-right: 14.7px solid transparent; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\r\n          display: block;\r\n          width: 12.6px;\r\n          height: 14.7px;\r\n          margin: 0 auto;\r\n          background-color: rgba(0, 0, 0, 0.3); }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\r\n          -webkit-box-sizing: border-box;\r\n                  box-sizing: border-box;\r\n          display: block;\r\n          height: 12.6px;\r\n          border: 6px solid rgba(0, 0, 0, 0.3);\r\n          border-top: none; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\r\n        display: block;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 30px;\r\n        width: 100%;\r\n        height: 60px;\r\n        line-height: 30px;\r\n        background-color: #eee;\r\n        text-align: center;\r\n        color: #666;\r\n        font-size: 14px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\r\n        cursor: pointer;\r\n        border-color: rgba(0, 0, 0, 0.1);\r\n        background-color: rgba(0, 0, 0, 0.05); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\r\n      overflow: hidden; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\r\n        float: left; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\r\n          position: relative;\r\n          display: block;\r\n          width: 240px;\r\n          height: 180px;\r\n          background-color: #e5e5e0;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\r\n            position: absolute;\r\n            display: block;\r\n            cursor: move;\r\n            -webkit-user-select: none;\r\n               -moz-user-select: none;\r\n                -ms-user-select: none;\r\n                    user-select: none; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\r\n            -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                    box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n            position: absolute;\r\n            background-color: rgba(241, 242, 243, 0.8); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\r\n              top: 0;\r\n              left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\r\n              bottom: 0;\r\n              right: 0; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate {\r\n          position: relative;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i {\r\n            display: block;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            line-height: 18px;\r\n            text-align: center;\r\n            font-size: 12px;\r\n            font-weight: bold;\r\n            background-color: rgba(0, 0, 0, 0.08);\r\n            color: #fff;\r\n            overflow: hidden; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:first-child {\r\n              float: left; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-rotate i:last-child {\r\n              float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\r\n          position: relative;\r\n          margin: 30px 0 10px 0;\r\n          width: 240px;\r\n          height: 18px; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            position: absolute;\r\n            top: 0;\r\n            width: 18px;\r\n            height: 18px;\r\n            border-radius: 100%;\r\n            background-color: rgba(0, 0, 0, 0.08); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              cursor: pointer;\r\n              background-color: rgba(0, 0, 0, 0.14); }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\r\n            left: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\r\n            right: 0; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              left: 3px;\r\n              top: 8px;\r\n              width: 12px;\r\n              height: 2px;\r\n              background-color: #fff; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\r\n              position: absolute;\r\n              content: '';\r\n              display: block;\r\n              top: 3px;\r\n              left: 8px;\r\n              width: 2px;\r\n              height: 12px;\r\n              background-color: #fff; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\r\n            display: block;\r\n            padding-top: 5px;\r\n            margin: 0 auto;\r\n            width: 180px;\r\n            height: 8px;\r\n            vertical-align: top;\r\n            background: transparent;\r\n            -webkit-appearance: none;\r\n               -moz-appearance: none;\r\n                    appearance: none;\r\n            cursor: pointer;\r\n            /* 滑块\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/\r\n            /* 轨道\r\n\t\t\t\t\t\t\t ---------------------------------------------------------------*/ }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\r\n              outline: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n                      box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -webkit-appearance: none;\r\n                      appearance: none;\r\n              margin-top: -3px;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              -moz-appearance: none;\r\n                   appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border-radius: 100%;\r\n              border: none;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\r\n              box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\r\n              appearance: none;\r\n              width: 12px;\r\n              height: 12px;\r\n              background-color: #61c091;\r\n              border: none;\r\n              border-radius: 100%;\r\n              -webkit-transition: 0.2s;\r\n              transition: 0.2s; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\r\n              margin-top: -4px;\r\n              width: 14px;\r\n              height: 14px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\r\n              -webkit-box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n                      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              height: 6px;\r\n              cursor: pointer;\r\n              border-radius: 2px;\r\n              border: none;\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\r\n              box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\r\n              width: 100%;\r\n              cursor: pointer;\r\n              background: transparent;\r\n              border-color: transparent;\r\n              color: transparent;\r\n              height: 6px;\r\n              border-radius: 2px;\r\n              border: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.3); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.15); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\r\n              background-color: rgba(68, 170, 119, 0.5); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\r\n              background-color: rgba(68, 170, 119, 0.45); }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\r\n              background-color: rgba(68, 170, 119, 0.25); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\r\n        float: right; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\r\n          height: 150px;\r\n          overflow: hidden; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\r\n            position: relative;\r\n            padding: 5px;\r\n            width: 100px;\r\n            height: 100px;\r\n            float: left;\r\n            margin-right: 16px; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\r\n              position: absolute;\r\n              bottom: -30px;\r\n              width: 100%;\r\n              font-size: 14px;\r\n              color: #bbb;\r\n              display: block;\r\n              text-align: center; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\r\n              position: absolute;\r\n              display: block;\r\n              top: 0;\r\n              bottom: 0;\r\n              left: 0;\r\n              right: 0;\r\n              margin: auto;\r\n              padding: 3px;\r\n              background-color: #fff;\r\n              border: 1px solid rgba(0, 0, 0, 0.15);\r\n              overflow: hidden;\r\n              -webkit-user-select: none;\r\n                 -moz-user-select: none;\r\n                  -ms-user-select: none;\r\n                      user-select: none; }\r\n            .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle {\r\n              margin-right: 0; }\r\n              .vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item.vicp-preview-item-circle img {\r\n                border-radius: 100%; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\r\n      position: relative;\r\n      -webkit-box-sizing: border-box;\r\n              box-sizing: border-box;\r\n      padding: 35px;\r\n      height: 170px;\r\n      background-color: rgba(0, 0, 0, 0.03);\r\n      text-align: center;\r\n      border: 1px dashed #ddd; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\r\n        display: block;\r\n        padding: 15px;\r\n        font-size: 16px;\r\n        color: #999;\r\n        line-height: 30px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\r\n        margin-top: 12px;\r\n        background-color: rgba(0, 0, 0, 0.08);\r\n        border-radius: 3px; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\r\n          position: relative;\r\n          display: block;\r\n          height: 5px;\r\n          border-radius: 3px;\r\n          background-color: #4a7;\r\n          -webkit-box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n                  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\r\n          -webkit-transition: width 0.15s linear;\r\n          transition: width 0.15s linear;\r\n          background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\r\n          background-size: 40px 40px;\r\n          -webkit-animation: vicp_progress 0.5s linear infinite;\r\n                  animation: vicp_progress 0.5s linear infinite; }\r\n          .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\r\n            content: '';\r\n            position: absolute;\r\n            display: block;\r\n            top: -3px;\r\n            right: -3px;\r\n            width: 9px;\r\n            height: 9px;\r\n            border: 1px solid rgba(245, 246, 247, 0.7);\r\n            -webkit-box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n                    box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\r\n            border-radius: 100%;\r\n            background-color: #4a7; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\r\n      .vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\r\n        height: 100px;\r\n        line-height: 100px; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-operate {\r\n      position: absolute;\r\n      right: 20px;\r\n      bottom: 20px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-operate a {\r\n        position: relative;\r\n        float: left;\r\n        display: block;\r\n        margin-left: 10px;\r\n        width: 100px;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        font-size: 14px;\r\n        color: #4a7;\r\n        border-radius: 2px;\r\n        overflow: hidden;\r\n        -webkit-user-select: none;\r\n           -moz-user-select: none;\r\n            -ms-user-select: none;\r\n                user-select: none; }\r\n        .vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\r\n          background-color: rgba(0, 0, 0, 0.03); }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-error,\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      display: block;\r\n      font-size: 14px;\r\n      line-height: 24px;\r\n      height: 24px;\r\n      color: #d10;\r\n      text-align: center;\r\n      vertical-align: top; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-success {\r\n      color: #4a7; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon3 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\r\n        position: absolute;\r\n        top: 3px;\r\n        left: 6px;\r\n        width: 6px;\r\n        height: 10px;\r\n        border-width: 0 2px 2px 0;\r\n        border-color: #4a7;\r\n        border-style: solid;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg);\r\n        content: ''; }\r\n    .vue-image-crop-upload .vicp-wrap .vicp-icon2 {\r\n      position: relative;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      top: 4px; }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 9px;\r\n        left: 4px;\r\n        width: 13px;\r\n        height: 2px;\r\n        background-color: #d10;\r\n        -webkit-transform: rotate(45deg);\r\n            -ms-transform: rotate(45deg);\r\n                transform: rotate(45deg); }\r\n      .vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\r\n        -webkit-transform: rotate(-45deg);\r\n            -ms-transform: rotate(-45deg);\r\n                transform: rotate(-45deg); }\r\n\r\n.e-ripple {\r\n  position: absolute;\r\n  border-radius: 100%;\r\n  background-color: rgba(0, 0, 0, 0.15);\r\n  background-clip: padding-box;\r\n  pointer-events: none;\r\n  -webkit-user-select: none;\r\n     -moz-user-select: none;\r\n      -ms-user-select: none;\r\n          user-select: none;\r\n  -webkit-transform: scale(0);\r\n      -ms-transform: scale(0);\r\n          transform: scale(0);\r\n  opacity: 1; }\r\n  .e-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n        -ms-transform: scale(2);\r\n            transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out; }\r\n\r\n</style>\r\n"],"sourceRoot":"node_modules/vue-image-crop-upload"}]}