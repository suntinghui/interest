{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\user.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\user.vue","mtime":1574843329944},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      /*用于查找的登录名*/\n      name: null,\n\n      /*选择的数量*/\n      count: null,\n\n      /*选中的组数据*/\n      groupId: null,\n\n      /*新建modal的显示参数*/\n      newModal: false,\n\n      /*修改modal的显示参数*/\n      modifyModal: false,\n\n      /*角色配置modal的显示参数*/\n      roleModal: false,\n\n      /*分页total属性绑定值*/\n      total: 0,\n\n      /*loading*/\n      loading: true,\n\n      /*pageInfo实体*/\n      pageInfo: {\n        page: 0,\n        pageSize: 10\n      },\n\n      /*user实体*/\n      user: {\n        id: null,\n        name: null,\n        loginName: null,\n        password: null,\n        passwordAgain: null,\n        email: null\n      },\n\n      /*用于添加的user实体*/\n      userNew: {\n        id: null,\n        name: null,\n        loginName: null,\n        password: null,\n        passwordAgain: null,\n        email: null,\n        usertype: 0 // 设置默认选中\n\n      },\n\n      /*用于修改的user实体*/\n      userModify: {\n        id: null,\n        name: null,\n        usertype: null\n      },\n\n      /*新建验证*/\n      ruleNew: {\n        name: [{\n          type: \"string\",\n          required: true,\n          message: \"输入用户名\",\n          trigger: \"blur\"\n        }],\n        loginName: [{\n          type: \"string\",\n          required: true,\n          message: \"输入登录名\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          type: \"string\",\n          required: true,\n          message: \"输入密码\",\n          trigger: \"blur\"\n        }],\n        passwordAgain: [{\n          type: \"string\",\n          required: true,\n          message: \"输入再次密码\",\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: \"输入邮箱\",\n          trigger: \"blur\"\n        }, {\n          type: \"email\",\n          message: \"输入正确的邮箱格式\",\n          trigger: \"blur\"\n        }]\n      },\n\n      /*修改验证*/\n      ruleModify: {\n        name: [{\n          type: \"string\",\n          required: true,\n          message: \"输入用户名\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          type: \"string\",\n          required: true,\n          message: \"输入密码\",\n          trigger: \"blur\"\n        }],\n        email: [{\n          required: true,\n          message: \"输入邮箱\",\n          trigger: \"blur\"\n        }, {\n          type: \"email\",\n          message: \"输入正确的邮箱格式\",\n          trigger: \"blur\"\n        }]\n      },\n\n      /*表显示字段*/\n      columns1: [{\n        type: \"selection\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"用户名\",\n        key: \"name\"\n      }, {\n        title: \"邮箱\",\n        key: \"email\"\n      }, {\n        title: \"用户类型\",\n        align: \"center\",\n        key: \"usertype\",\n        render: function render(h, params) {\n          if (params.row.usertype == 0) {\n            return h(\"div\", [h(\"strong\", null, \"普通用户\")]);\n          } else if (params.row.usertype == 1) {\n            return h(\"div\", [h(\"strong\", null, \"管理员\")]);\n          }\n        }\n      }, {\n        title: \"注册时间\",\n        align: \"center\",\n        key: \"createTime\"\n      }, {\n        title: \"操作\",\n        align: \"center\",\n        key: \"action\",\n        render: function render(h, params) {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"info\"\n            },\n            on: {\n              click: function click() {\n                _this.relationSet(params.row);\n              }\n            }\n          }, \"配置角色\")]);\n        }\n      }],\n\n      /*表数据*/\n      data1: [],\n\n      /*表显示字段*/\n      columns2: [{\n        type: \"selection\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"角色名称\",\n        width: 120,\n        key: \"name\"\n      }, {\n        title: \"描述\",\n        key: \"describe\"\n      }],\n\n      /*表数据*/\n      data2: [],\n\n      /*data2的临时存储*/\n      data2Temp: [],\n\n      /*用户与角色关系列表*/\n      relationList: null\n    };\n  },\n  mounted: function mounted() {\n    /*页面初始化调用方法*/\n    this.getTable({\n      pageInfo: this.pageInfo,\n      name: this.name\n    });\n    this.axios({\n      method: \"get\",\n      url: \"/roles/all\"\n    }).then(function (response) {\n      this.data2Temp = response.data.data;\n    }.bind(this)).catch(function (error) {\n      alert(error);\n    });\n  },\n  methods: {\n    /*pageInfo实体初始化*/\n    initPageInfo: function initPageInfo() {\n      this.pageInfo.page = 0;\n      this.pageInfo.pageSize = 10;\n    },\n\n    /*user实体初始化*/\n    initUser: function initUser() {\n      this.user.id = null;\n      this.user.name = null;\n      this.user.loginName = null;\n      this.user.password = null;\n      this.user.email = null;\n    },\n\n    /*userNew实体初始化*/\n    initUserNew: function initUserNew() {\n      this.userNew.id = null;\n      this.userNew.name = null;\n      this.userNew.loginName = null;\n      this.userNew.password = null;\n      this.userNew.passwordAgain = null;\n      this.userNew.email = null;\n    },\n\n    /*userModify实体初始化*/\n    initUserModify: function initUserModify() {\n      this.userModify.id = null;\n      this.userModify.name = null;\n      this.userModify.loginName = null;\n      this.userModify.password = null;\n      this.userModify.email = null;\n    },\n\n    /*userNew设置*/\n    userSet: function userSet(e) {\n      this.user.id = e.id;\n      this.user.name = e.name;\n      this.user.loginName = e.loginName;\n      this.user.password = e.password;\n      this.user.email = e.email;\n      this.user.usertype = e.usertype;\n      this.user.createTime = e.createTime;\n    },\n\n    /*userNew设置*/\n    userNewSet: function userNewSet(e) {\n      this.userNew.id = e.id;\n      this.userNew.name = e.name;\n      this.userNew.loginName = e.loginName;\n      this.userNew.password = e.password;\n      this.userNew.passwordAgain = e.password;\n      this.userNew.email = e.email;\n    },\n\n    /*userModify设置*/\n    userModifySet: function userModifySet(e) {\n      this.userModify.id = e.id;\n      this.userModify.name = e.name;\n      this.userModify.usertype = e.usertype;\n    },\n    dateGet: function dateGet(e) {\n      var time = new Date(parseInt(e));\n      return time.getFullYear() + \"-\" + (time.getMonth() + 1) + \"-\" + time.getDate() + \" \" + time.getHours() + \":\" + time.getMinutes();\n    },\n    listDateSet: function listDateSet(e) {\n      for (var i = e.length - 1; i >= 0; i--) {\n        e[i].createTime = this.dateGet(e[i].createTime);\n      }\n    },\n\n    /*得到表数据*/\n    getTable: function getTable(e) {\n      this.axios({\n        method: \"get\",\n        url: \"/users\",\n        params: {\n          page: e.pageInfo.page,\n          pageSize: e.pageInfo.pageSize,\n          name: e.name\n        }\n      }).then(function (response) {\n        this.data1 = response.data.data.data;\n        this.listDateSet(this.data1);\n        this.total = response.data.data.totalCount;\n      }.bind(this)).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    /*搜索按钮点击事件*/\n    search: function search() {\n      this.initPageInfo();\n      this.getTable({\n        pageInfo: this.pageInfo,\n        name: this.name\n      });\n    },\n\n    /*分页点击事件*/\n    pageSearch: function pageSearch(e) {\n      this.pageInfo.page = e - 1;\n      this.getTable({\n        pageInfo: this.pageInfo,\n        name: this.name\n      });\n    },\n\n    /*新建点击触发事件*/\n    openNewModal: function openNewModal() {\n      this.newModal = true;\n      this.initUserNew();\n      this.data1.sort();\n      this.count = 0;\n      this.groupId = null;\n    },\n\n    /*新建modal的newOk点击事件*/\n    newOk: function newOk() {\n      if (this.userNew.name == \"\" || this.userNew.name == null) {\n        this.$Message.warning(\"请输入用户名\");\n        return;\n      }\n\n      if (this.userNew.password == \"\" || this.userNew.password == null) {\n        this.$Message.warning(\"请输入密码\");\n        return;\n      }\n\n      this.userNew.loginName = this.userNew.name;\n      this.userNew.createTime = new Date().getTime();\n      console.log(\"=====\" + JSON.stringify(this.userNew));\n      this.userSet(this.userNew);\n      this.axios({\n        method: \"post\",\n        url: \"/users/user\",\n        data: this.user\n      }).then(function (response) {\n        console.log(JSON.stringify(response));\n\n        if (response.data.status == '2000') {\n          this.initUserNew();\n          this.getTable({\n            pageInfo: this.pageInfo,\n            name: this.name\n          });\n          this.newModal = false;\n          this.$Message.info(\"新建成功\");\n        } else {\n          this.$Modal.error({\n            title: '提示',\n            content: \"创建用户失败\"\n          });\n        }\n      }.bind(this)).catch(function (error) {\n        alert(error);\n      });\n    },\n\n    /*点击修改时判断是否只选择一个*/\n    openModifyModal: function openModifyModal() {\n      if (this.count > 1 || this.count < 1) {\n        this.modifyModal = false;\n        this.$Message.warning(\"请至少选择一项(且只能选择一项)\");\n      } else {\n        this.modifyModal = true;\n      }\n    },\n\n    /*修改modal的modifyOk点击事件*/\n    modifyOk: function modifyOk() {\n      // this.initUser();\n      // this.userSet(this.userModify);\n      this.axios({\n        method: \"put\",\n        url: \"/users/user\",\n        data: {\n          name: this.userModify.name,\n          usertype: this.userModify.usertype,\n          id: this.userModify.id\n        }\n      }).then(function (response) {\n        this.initUserNew();\n        this.getTable({\n          pageInfo: this.pageInfo,\n          name: this.name\n        });\n        this.$Message.info(\"修改成功\");\n      }.bind(this)).catch(function (error) {\n        alert(error);\n      });\n      this.modifyModal = false;\n    },\n\n    /*modal的cancel点击事件*/\n    cancel: function cancel() {\n      this.newModal = false;\n      this.modifyModal = false; //this.$Message.info(\"点击了取消\");\n    },\n\n    /*table选择后触发事件*/\n    change: function change(e) {\n      if (e.length == 1) {\n        this.userModifySet(e[\"0\"]);\n      }\n\n      this.setGroupId(e);\n    },\n\n    /*通过选中的行设置groupId的值*/\n    setGroupId: function setGroupId(e) {\n      this.groupId = [];\n      this.count = e.length;\n\n      for (var i = 0; i <= e.length - 1; i++) {\n        this.groupId.push(e[i].id);\n      }\n    },\n\n    /*删除table中选中的数据*/\n    del: function del() {\n      if (this.groupId != null && this.groupId != \"\") {\n        this.axios({\n          method: \"delete\",\n          url: \"/users\",\n          data: this.groupId\n        }).then(function (response) {\n          this.getTable({\n            pageInfo: this.pageInfo,\n            name: this.name\n          });\n          this.groupId = null;\n          this.count = 0;\n          this.$Message.info(\"删除成功\");\n        }.bind(this)).catch(function (error) {\n          alert(error);\n        });\n      }\n    },\n\n    /*表格中双击事件*/\n    dblclick: function dblclick(e) {\n      this.userModifySet(e);\n      this.modifyModal = true;\n      this.data1.sort();\n    },\n\n    /*流程配置*/\n    relationSet: function relationSet(e) {\n      this.roleModal = true;\n      this.data2 = [];\n      this.axios({\n        method: \"get\",\n        url: \"/relations/\" + e.id\n      }).then(function (response) {\n        var roleList = [];\n\n        for (var i in response.data.data) {\n          roleList.push(response.data.data[i].roleId);\n        }\n\n        for (var i in this.data2Temp) {\n          if (roleList.indexOf(this.data2Temp[i].id) == -1) {\n            this.data2.push({\n              id: this.data2Temp[i].id,\n              name: this.data2Temp[i].name,\n              describe: this.data2Temp[i].describe,\n              userId: e.id,\n              _checked: false\n            });\n          } else {\n            this.data2.push({\n              id: this.data2Temp[i].id,\n              name: this.data2Temp[i].name,\n              describe: this.data2Temp[i].describe,\n              userId: e.id,\n              _checked: true\n            });\n          }\n        }\n      }.bind(this)).catch(function (error) {\n        alert(error);\n      });\n    },\n\n    /*配置角色modal确认按钮点击事件*/\n    roleOk: function roleOk() {\n      if (this.relationList != null) {\n        this.axios({\n          method: \"post\",\n          url: \"/relations\",\n          data: this.relationList\n        }).then(function (response) {\n          this.$Message.info(\"配置成功\");\n        }.bind(this)).catch(function (error) {\n          alert(error);\n        });\n        this.relationList = null;\n      }\n    },\n\n    /*配置角色modal中表选择改变事件*/\n    change2: function change2(e) {\n      this.relationList = [];\n\n      if (e.length == 0) {\n        this.relationList.push({\n          userId: this.data2[0].userId\n        });\n      }\n\n      for (var i in e) {\n        this.relationList.push({\n          userId: e[i].userId,\n          roleId: e[i].id\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":"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","sourcesContent":["<style scoped>\r\n\t.operation-button{\r\n    margin-right: 3px;\r\n  }\r\n</style>\r\n<template>\r\n\t<div style=\"margin: 20px;\">\r\n\t\t<div>\r\n\t\t\t<Row style=\"margin-bottom: 25px;\">\r\n\t\t\t\t<Col span=\"8\">用户名：\r\n\t\t\t\t<Input v-model=\"name\" placeholder=\"请输入...\" style=\"width:200px\" />\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span=\"8\"><Button type=\"primary\" shape=\"circle\" icon=\"ios-search\" @click=\"search()\">搜索</Button></Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<ul style=\"list-style-type: none;\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Button class=\"operation-button\" type=\"success\" icon=\"md-build\" @click=\"openNewModal()\">新增</Button>\r\n\t\t\t\t\t<Button class=\"operation-button\" type=\"warning\" icon=\"md-build\" style=\"margin-left: 0.9375rem;\" @click=\"openModifyModal()\">修改</Button>\r\n\t\t\t\t\t<Button type=\"error\" icon=\"md-trash\" style=\"margin-left: 0.9375rem;\" @click=\"del()\">删除</Button>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div style=\"padding: 10px 0;\">\r\n\t\t\t\t\t\t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"400\" @on-selection-change=\"s=>{change(s)}\"\r\n\t\t\t\t\t\t @on-row-dblclick=\"s=>{dblclick(s)}\"></Table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<div style=\"text-align: right;\">\r\n\t\t\t\t\t\t<Page :total=\"total\" :page-size=\"pageInfo.pageSize\" show-elevator show-total @on-change=\"e=>{pageSearch(e)}\"></Page>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<!--新建modal-->\r\n\t\t<Modal :mask-closable=\"false\" :visible.sync=\"newModal\" v-model=\"newModal\" width=\"600\" title=\"新建\">\r\n\t\t\t<Form :label-width=\"80\">\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"用户名:\">\r\n\t\t\t\t\t\t<Input v-model.trim=\"userNew.name\" style=\"width: 204px\" />\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"密码:\">\r\n\t\t\t\t\t\t<Input v-model.trim=\"userNew.password\" placeholder=\"请牢记密码\" style=\"width: 204px\" />\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"邮箱:\">\r\n\t\t\t\t\t\t<Input v-model.trim=\"userNew.email\" type=\"email\" style=\"width: 204px\" />\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row style=\"display: none;\">\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"用户类型:\">\r\n\t\t\t\t\t\t<Select v-model=\"userNew.usertype\" style=\"width:200px\">\r\n\t\t\t\t\t\t\t<Option :value=\"0\">普通用户</Option>\r\n\t\t\t\t\t\t\t<Option :value=\"1\">管理员</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<div slot=\"footer\">\r\n\t\t\t\t<Button type=\"text\" size=\"large\" @click=\"cancel()\">取消</Button>\r\n\t\t\t\t<Button type=\"primary\" size=\"large\" @click=\"newOk()\">确定</Button>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\r\n\t\t<!--修改modal-->\r\n\t\t<Modal :mask-closable=\"false\" :visible.sync=\"modifyModal\" v-model=\"modifyModal\" width=\"600\" title=\"修改\" @on-ok=\"modifyOk()\"\r\n\t\t @on-cancel=\"cancel()\">\r\n\t\t\t<Form :label-width=\"80\">\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"登录名:\">\r\n\t\t\t\t\t\t<Input v-model=\"userModify.name\" style=\"width: 204px\" disabled=\"disabled\" />\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col span=\"12\">\r\n\t\t\t\t\t<Form-item label=\"用户类型:\">\r\n\t\t\t\t\t\t<Select v-model=\"userModify.usertype\" style=\"width:200px\">\r\n\t\t\t\t\t\t\t<Option :value=\"0\">普通用户</Option>\r\n\t\t\t\t\t\t\t<Option :value=\"1\">管理员</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t<!-- <Input v-model=\"userModify.email\" style=\"width: 204px\"/> -->\r\n\t\t\t\t\t</Form-item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Form>\r\n\t\t</Modal>\r\n\t\t<!--配置角色modal-->\r\n\t\t<Modal v-model=\"roleModal\" width=\"500\" title=\"角色配置\" @on-ok=\"roleOk()\" @on-cancel=\"cancel()\">\r\n\t\t\t<div>\r\n\t\t\t\t<Table border :columns=\"columns2\" :data=\"data2\" :height=\"260\" @on-selection-change=\"s=>{change2(s)}\"></Table>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t/*用于查找的登录名*/\r\n\t\t\t\tname: null,\r\n\t\t\t\t/*选择的数量*/\r\n\t\t\t\tcount: null,\r\n\t\t\t\t/*选中的组数据*/\r\n\t\t\t\tgroupId: null,\r\n\t\t\t\t/*新建modal的显示参数*/\r\n\t\t\t\tnewModal: false,\r\n\t\t\t\t/*修改modal的显示参数*/\r\n\t\t\t\tmodifyModal: false,\r\n\t\t\t\t/*角色配置modal的显示参数*/\r\n\t\t\t\troleModal: false,\r\n\t\t\t\t/*分页total属性绑定值*/\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\t/*loading*/\r\n\t\t\t\tloading: true,\r\n\t\t\t\t/*pageInfo实体*/\r\n\t\t\t\tpageInfo: {\r\n\t\t\t\t\tpage: 0,\r\n\t\t\t\t\tpageSize: 10\r\n\t\t\t\t},\r\n\t\t\t\t/*user实体*/\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tloginName: null,\r\n\t\t\t\t\tpassword: null,\r\n\t\t\t\t\tpasswordAgain: null,\r\n\t\t\t\t\temail: null\r\n\t\t\t\t},\r\n\t\t\t\t/*用于添加的user实体*/\r\n\t\t\t\tuserNew: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tloginName: null,\r\n\t\t\t\t\tpassword: null,\r\n\t\t\t\t\tpasswordAgain: null,\r\n\t\t\t\t\temail: null,\r\n\t\t\t\t\tusertype: 0 // 设置默认选中\r\n\t\t\t\t},\r\n\t\t\t\t/*用于修改的user实体*/\r\n\t\t\t\tuserModify: {\r\n\t\t\t\t\tid: null,\r\n\t\t\t\t\tname: null,\r\n\t\t\t\t\tusertype: null\r\n\t\t\t\t},\r\n\t\t\t\t/*新建验证*/\r\n\t\t\t\truleNew: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入用户名\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tloginName: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入登录名\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入密码\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpasswordAgain: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入再次密码\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: \"输入邮箱\",\r\n\t\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"email\",\r\n\t\t\t\t\t\t\tmessage: \"输入正确的邮箱格式\",\r\n\t\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t/*修改验证*/\r\n\t\t\t\truleModify: {\r\n\t\t\t\t\tname: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入用户名\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tpassword: [{\r\n\t\t\t\t\t\ttype: \"string\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: \"输入密码\",\r\n\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t}],\r\n\t\t\t\t\temail: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: \"输入邮箱\",\r\n\t\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"email\",\r\n\t\t\t\t\t\t\tmessage: \"输入正确的邮箱格式\",\r\n\t\t\t\t\t\t\ttrigger: \"blur\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t/*表显示字段*/\r\n\t\t\t\tcolumns1: [{\r\n\t\t\t\t\t\ttype: \"selection\",\r\n\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"用户名\",\r\n\t\t\t\t\t\tkey: \"name\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"邮箱\",\r\n\t\t\t\t\t\tkey: \"email\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"用户类型\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tkey: \"usertype\",\r\n\t\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\t\tif (params.row.usertype == 0) {\r\n\t\t\t\t\t\t\t\treturn h(\"div\", [h(\"strong\", null, \"普通用户\")]);\r\n\t\t\t\t\t\t\t} else if (params.row.usertype == 1) {\r\n\t\t\t\t\t\t\t\treturn h(\"div\", [h(\"strong\", null, \"管理员\")]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"注册时间\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tkey: \"createTime\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"操作\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tkey: \"action\",\r\n\t\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\t\treturn h(\"div\", [\r\n\t\t\t\t\t\t\t\th(\r\n\t\t\t\t\t\t\t\t\t\"Button\", {\r\n\t\t\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"info\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.relationSet(params.row);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\"配置角色\"\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t/*表数据*/\r\n\t\t\t\tdata1: [],\r\n\t\t\t\t/*表显示字段*/\r\n\t\t\t\tcolumns2: [{\r\n\t\t\t\t\t\ttype: \"selection\",\r\n\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"角色名称\",\r\n\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t\tkey: \"name\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"描述\",\r\n\t\t\t\t\t\tkey: \"describe\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t/*表数据*/\r\n\t\t\t\tdata2: [],\r\n\t\t\t\t/*data2的临时存储*/\r\n\t\t\t\tdata2Temp: [],\r\n\t\t\t\t/*用户与角色关系列表*/\r\n\t\t\t\trelationList: null\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t/*页面初始化调用方法*/\r\n\t\t\tthis.getTable({\r\n\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\tname: this.name\r\n\t\t\t});\r\n\t\t\tthis.axios({\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\turl: \"/roles/all\"\r\n\t\t\t\t})\r\n\t\t\t\t.then(\r\n\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\tthis.data2Temp = response.data.data;\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t)\r\n\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\talert(error);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*pageInfo实体初始化*/\r\n\t\t\tinitPageInfo() {\r\n\t\t\t\tthis.pageInfo.page = 0;\r\n\t\t\t\tthis.pageInfo.pageSize = 10;\r\n\t\t\t},\r\n\t\t\t/*user实体初始化*/\r\n\t\t\tinitUser() {\r\n\t\t\t\tthis.user.id = null;\r\n\t\t\t\tthis.user.name = null;\r\n\t\t\t\tthis.user.loginName = null;\r\n\t\t\t\tthis.user.password = null;\r\n\t\t\t\tthis.user.email = null;\r\n\t\t\t},\r\n\t\t\t/*userNew实体初始化*/\r\n\t\t\tinitUserNew() {\r\n\t\t\t\tthis.userNew.id = null;\r\n\t\t\t\tthis.userNew.name = null;\r\n\t\t\t\tthis.userNew.loginName = null;\r\n\t\t\t\tthis.userNew.password = null;\r\n\t\t\t\tthis.userNew.passwordAgain = null;\r\n\t\t\t\tthis.userNew.email = null;\r\n\t\t\t},\r\n\t\t\t/*userModify实体初始化*/\r\n\t\t\tinitUserModify() {\r\n\t\t\t\tthis.userModify.id = null;\r\n\t\t\t\tthis.userModify.name = null;\r\n\t\t\t\tthis.userModify.loginName = null;\r\n\t\t\t\tthis.userModify.password = null;\r\n\t\t\t\tthis.userModify.email = null;\r\n\t\t\t},\r\n\t\t\t/*userNew设置*/\r\n\t\t\tuserSet(e) {\r\n\t\t\t\tthis.user.id = e.id;\r\n\t\t\t\tthis.user.name = e.name;\r\n\t\t\t\tthis.user.loginName = e.loginName;\r\n\t\t\t\tthis.user.password = e.password;\r\n\t\t\t\tthis.user.email = e.email;\r\n\t\t\t\tthis.user.usertype = e.usertype;\r\n\t\t\t\tthis.user.createTime = e.createTime;\r\n\t\t\t},\r\n\t\t\t/*userNew设置*/\r\n\t\t\tuserNewSet(e) {\r\n\t\t\t\tthis.userNew.id = e.id;\r\n\t\t\t\tthis.userNew.name = e.name;\r\n\t\t\t\tthis.userNew.loginName = e.loginName;\r\n\t\t\t\tthis.userNew.password = e.password;\r\n\t\t\t\tthis.userNew.passwordAgain = e.password;\r\n\t\t\t\tthis.userNew.email = e.email;\r\n\t\t\t},\r\n\t\t\t/*userModify设置*/\r\n\t\t\tuserModifySet(e) {\r\n\t\t\t\tthis.userModify.id = e.id;\r\n\t\t\t\tthis.userModify.name = e.name;\r\n\t\t\t\tthis.userModify.usertype = e.usertype;\r\n\t\t\t},\r\n\t\t\tdateGet(e) {\r\n\t\t\t\tvar time = new Date(parseInt(e));\r\n\t\t\t\treturn (\r\n\t\t\t\t\ttime.getFullYear() +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\t(time.getMonth() + 1) +\r\n\t\t\t\t\t\"-\" +\r\n\t\t\t\t\ttime.getDate() +\r\n\t\t\t\t\t\" \" +\r\n\t\t\t\t\ttime.getHours() +\r\n\t\t\t\t\t\":\" +\r\n\t\t\t\t\ttime.getMinutes()\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tlistDateSet(e) {\r\n\t\t\t\tfor (var i = e.length - 1; i >= 0; i--) {\r\n\t\t\t\t\te[i].createTime = this.dateGet(e[i].createTime);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*得到表数据*/\r\n\t\t\tgetTable(e) {\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/users\",\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tpage: e.pageInfo.page,\r\n\t\t\t\t\t\t\tpageSize: e.pageInfo.pageSize,\r\n\t\t\t\t\t\t\tname: e.name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tthis.data1 = response.data.data.data;\r\n\t\t\t\t\t\t\tthis.listDateSet(this.data1);\r\n\t\t\t\t\t\t\tthis.total = response.data.data.totalCount;\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*搜索按钮点击事件*/\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.initPageInfo();\r\n\t\t\t\tthis.getTable({\r\n\t\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\t\tname: this.name\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*分页点击事件*/\r\n\t\t\tpageSearch(e) {\r\n\t\t\t\tthis.pageInfo.page = e - 1;\r\n\t\t\t\tthis.getTable({\r\n\t\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\t\tname: this.name\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*新建点击触发事件*/\r\n\t\t\topenNewModal() {\r\n\t\t\t\tthis.newModal = true;\r\n\t\t\t\tthis.initUserNew();\r\n\t\t\t\tthis.data1.sort();\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t\tthis.groupId = null;\r\n\t\t\t},\r\n\t\t\t/*新建modal的newOk点击事件*/\r\n\t\t\tnewOk() {\r\n\t\t\t\tif (this.userNew.name == \"\" || this.userNew.name == null) {\r\n\t\t\t\t\tthis.$Message.warning(\"请输入用户名\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.userNew.password == \"\" || this.userNew.password == null) {\r\n\t\t\t\t\tthis.$Message.warning(\"请输入密码\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.userNew.loginName = this.userNew.name;\r\n\t\t\t\tthis.userNew.createTime = new Date().getTime();\r\n\r\n\t\t\t\tconsole.log(\"=====\" + JSON.stringify(this.userNew))\r\n\r\n\t\t\t\tthis.userSet(this.userNew);\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\turl: \"/users/user\",\r\n\t\t\t\t\t\tdata: this.user\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(response))\r\n\t\t\t\t\t\t\tif (response.data.status == '2000') {\r\n\t\t\t\t\t\t\t\tthis.initUserNew();\r\n\t\t\t\t\t\t\t\tthis.getTable({\r\n\t\t\t\t\t\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\t\t\t\t\t\tname: this.name\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.newModal = false;\r\n\t\t\t\t\t\t\t\tthis.$Message.info(\"新建成功\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$Modal.error({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: \"创建用户失败\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t/*点击修改时判断是否只选择一个*/\r\n\t\t\topenModifyModal() {\r\n\t\t\t\tif (this.count > 1 || this.count < 1) {\r\n\t\t\t\t\tthis.modifyModal = false;\r\n\t\t\t\t\tthis.$Message.warning(\"请至少选择一项(且只能选择一项)\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.modifyModal = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*修改modal的modifyOk点击事件*/\r\n\t\t\tmodifyOk() {\r\n\t\t\t\t// this.initUser();\r\n\t\t\t\t// this.userSet(this.userModify);\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"put\",\r\n\t\t\t\t\t\turl: \"/users/user\",\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tname: this.userModify.name,\r\n\t\t\t\t\t\t\tusertype: this.userModify.usertype,\r\n\t\t\t\t\t\t\tid: this.userModify.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tthis.initUserNew();\r\n\t\t\t\t\t\t\tthis.getTable({\r\n\t\t\t\t\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\t\t\t\t\tname: this.name\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.$Message.info(\"修改成功\");\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.modifyModal = false;\r\n\t\t\t},\r\n\t\t\t/*modal的cancel点击事件*/\r\n\t\t\tcancel() {\r\n\t\t\t\tthis.newModal = false;\r\n\t\t\t\tthis.modifyModal = false;\r\n\t\t\t\t//this.$Message.info(\"点击了取消\");\r\n\t\t\t},\r\n\t\t\t/*table选择后触发事件*/\r\n\t\t\tchange(e) {\r\n\t\t\t\tif (e.length == 1) {\r\n\t\t\t\t\tthis.userModifySet(e[\"0\"]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.setGroupId(e);\r\n\t\t\t},\r\n\t\t\t/*通过选中的行设置groupId的值*/\r\n\t\t\tsetGroupId(e) {\r\n\t\t\t\tthis.groupId = [];\r\n\t\t\t\tthis.count = e.length;\r\n\t\t\t\tfor (var i = 0; i <= e.length - 1; i++) {\r\n\t\t\t\t\tthis.groupId.push(e[i].id);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*删除table中选中的数据*/\r\n\t\t\tdel() {\r\n\t\t\t\tif (this.groupId != null && this.groupId != \"\") {\r\n\t\t\t\t\tthis.axios({\r\n\t\t\t\t\t\t\tmethod: \"delete\",\r\n\t\t\t\t\t\t\turl: \"/users\",\r\n\t\t\t\t\t\t\tdata: this.groupId\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\t\tthis.getTable({\r\n\t\t\t\t\t\t\t\t\tpageInfo: this.pageInfo,\r\n\t\t\t\t\t\t\t\t\tname: this.name\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tthis.groupId = null;\r\n\t\t\t\t\t\t\t\tthis.count = 0;\r\n\t\t\t\t\t\t\t\tthis.$Message.info(\"删除成功\");\r\n\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*表格中双击事件*/\r\n\t\t\tdblclick(e) {\r\n\t\t\t\tthis.userModifySet(e);\r\n\t\t\t\tthis.modifyModal = true;\r\n\t\t\t\tthis.data1.sort();\r\n\t\t\t},\r\n\t\t\t/*流程配置*/\r\n\t\t\trelationSet(e) {\r\n\t\t\t\tthis.roleModal = true;\r\n\t\t\t\tthis.data2 = [];\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/relations/\" + e.id\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tvar roleList = [];\r\n\t\t\t\t\t\t\tfor (var i in response.data.data) {\r\n\t\t\t\t\t\t\t\troleList.push(response.data.data[i].roleId);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor (var i in this.data2Temp) {\r\n\t\t\t\t\t\t\t\tif (roleList.indexOf(this.data2Temp[i].id) == -1) {\r\n\t\t\t\t\t\t\t\t\tthis.data2.push({\r\n\t\t\t\t\t\t\t\t\t\tid: this.data2Temp[i].id,\r\n\t\t\t\t\t\t\t\t\t\tname: this.data2Temp[i].name,\r\n\t\t\t\t\t\t\t\t\t\tdescribe: this.data2Temp[i].describe,\r\n\t\t\t\t\t\t\t\t\t\tuserId: e.id,\r\n\t\t\t\t\t\t\t\t\t\t_checked: false\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.data2.push({\r\n\t\t\t\t\t\t\t\t\t\tid: this.data2Temp[i].id,\r\n\t\t\t\t\t\t\t\t\t\tname: this.data2Temp[i].name,\r\n\t\t\t\t\t\t\t\t\t\tdescribe: this.data2Temp[i].describe,\r\n\t\t\t\t\t\t\t\t\t\tuserId: e.id,\r\n\t\t\t\t\t\t\t\t\t\t_checked: true\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/*配置角色modal确认按钮点击事件*/\r\n\t\t\troleOk() {\r\n\t\t\t\tif (this.relationList != null) {\r\n\t\t\t\t\tthis.axios({\r\n\t\t\t\t\t\t\tmethod: \"post\",\r\n\t\t\t\t\t\t\turl: \"/relations\",\r\n\t\t\t\t\t\t\tdata: this.relationList\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\t\tthis.$Message.info(\"配置成功\");\r\n\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.relationList = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/*配置角色modal中表选择改变事件*/\r\n\t\t\tchange2(e) {\r\n\t\t\t\tthis.relationList = [];\r\n\t\t\t\tif (e.length == 0) {\r\n\t\t\t\t\tthis.relationList.push({\r\n\t\t\t\t\t\tuserId: this.data2[0].userId\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i in e) {\r\n\t\t\t\t\tthis.relationList.push({\r\n\t\t\t\t\t\tuserId: e[i].userId,\r\n\t\t\t\t\t\troleId: e[i].id\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\n"],"sourceRoot":"src/views/sys"}]}