{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\menu.vue","mtime":1574831227586},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      /*用于查找的菜单id*/\n      menuId: null,\n\n      /*选择的数量*/\n      count: null,\n\n      /*选中的组数据*/\n      groupId: null,\n\n      /*新建modal的显示参数*/\n      newModal: false,\n\n      /*修改modal的显示参数*/\n      modifyModal: false,\n\n      /*分页total属性绑定值*/\n      total: 0,\n\n      /*loading*/\n      loading: true,\n\n      /*pageInfo实体*/\n      pageInfo: {\n        page: 0,\n        pageSize: 10\n      },\n\n      /*menu实体*/\n      menu: {\n        id: null,\n        name: null,\n        url: null,\n        parentId: null,\n        sort: null,\n        remark: null,\n        icon: null\n      },\n\n      /*用于添加的menu实体*/\n      menuNew: {\n        id: null,\n        name: null,\n        url: null,\n        parentId: null,\n        sort: null,\n        remark: null,\n        icon: null\n      },\n\n      /*用于修改的menu实体*/\n      menuModify: {\n        id: null,\n        name: null,\n        url: null,\n        parentId: null,\n        sort: null,\n        remark: null,\n        icon: null\n      },\n\n      /*新建验证*/\n      ruleNew: {\n        name: [{\n          type: \"string\",\n          required: true,\n          message: \"输入菜单名\",\n          trigger: \"blur\"\n        }],\n        url: [{\n          type: \"string\",\n          required: true,\n          message: \"输入路径\",\n          trigger: \"blur\"\n        }],\n        parentId: [{\n          required: true,\n          message: \"输入父类ID\",\n          trigger: \"blur\"\n        }, {\n          validator: function validator(rule, value, callback) {\n            if (!Number.isInteger(+value)) {\n              callback(new Error(\"请输入数字\"));\n            } else {\n              callback();\n            }\n          },\n          trigger: \"blur\"\n        }],\n        sort: [{\n          required: true,\n          message: \"输入排序\",\n          trigger: \"blur\"\n        }, {\n          validator: function validator(rule, value, callback) {\n            if (!Number.isInteger(+value)) {\n              callback(new Error(\"请输入数字\"));\n            } else {\n              callback();\n            }\n          },\n          trigger: \"blur\"\n        }],\n        icon: [{\n          type: \"string\",\n          required: true,\n          message: \"输入图标\",\n          trigger: \"blur\"\n        }]\n      },\n\n      /*修改验证*/\n      ruleModify: {\n        name: [{\n          type: \"string\",\n          required: true,\n          message: \"输入菜单名\",\n          trigger: \"blur\"\n        }],\n        url: [{\n          type: \"string\",\n          required: true,\n          message: \"输入路径\",\n          trigger: \"blur\"\n        }],\n        parentId: [{\n          required: true,\n          message: \"输入父类ID\",\n          trigger: \"blur\"\n        }, {\n          validator: function validator(rule, value, callback) {\n            if (!Number.isInteger(+value)) {\n              callback(new Error(\"请输入数字\"));\n            } else {\n              callback();\n            }\n          },\n          trigger: \"blur\"\n        }],\n        sort: [{\n          required: true,\n          message: \"输入排序\",\n          trigger: \"blur\"\n        }, {\n          validator: function validator(rule, value, callback) {\n            if (!Number.isInteger(+value)) {\n              callback(new Error(\"请输入数字\"));\n            } else {\n              callback();\n            }\n          },\n          trigger: \"blur\"\n        }],\n        icon: [{\n          type: \"string\",\n          required: true,\n          message: \"输入图标\",\n          trigger: \"blur\"\n        }]\n      },\n\n      /*菜单列表*/\n      menuList: [],\n\n      /*生产类型表显示字段*/\n      columns1: [{\n        type: \"selection\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"菜单ID\",\n        key: \"id\"\n      }, {\n        title: \"菜单名称\",\n        key: \"name\"\n      }, {\n        title: \"地址\",\n        key: \"url\"\n      }, {\n        title: \"上级菜单id\",\n        key: \"parentId\"\n      }, {\n        title: \"排序\",\n        key: \"sort\"\n      }, {\n        title: \"图标\",\n        key: \"icon\"\n      }],\n\n      /*生产类型表数据*/\n      data1: []\n    };\n  },\n  mounted: function mounted() {\n    /*页面初始化调用方法*/\n    this.getTable({\n      pageInfo: this.pageInfo,\n      menuId: this.menuId\n    });\n    this.axios({\n      method: \"get\",\n      url: \"/menus/parentId\",\n      params: {\n        parentId: 0\n      }\n    }).then(function (response) {\n      var listTemp = response.data.data;\n\n      for (var i = 0; i < listTemp.length; i++) {\n        this.menuList.push({\n          value: listTemp[i].id,\n          label: listTemp[i].name\n        });\n      }\n    }.bind(this)).catch(function (error) {\n      alert(error);\n    });\n  },\n  methods: {\n    /*pageInfo实体初始化*/\n    initPageInfo: function initPageInfo() {\n      this.pageInfo.page = 0;\n      this.pageInfo.pageSize = 10;\n    },\n\n    /*menu实体初始化*/\n    initMenu: function initMenu() {\n      this.menu.id = null;\n      this.menu.name = null;\n      this.menu.url = null;\n      this.menu.parentId = null;\n      this.menu.sort = null;\n      this.menu.remark = null;\n      this.menu.icon = null;\n    },\n\n    /*menuNew实体初始化*/\n    initMenuNew: function initMenuNew() {\n      this.menuNew.id = null;\n      this.menuNew.name = null;\n      this.menuNew.url = null;\n      this.menuNew.parentId = null;\n      this.menuNew.sort = null;\n      this.menuNew.remark = null;\n      this.menuNew.icon = null;\n    },\n\n    /*menuModify实体初始化*/\n    initMenuModify: function initMenuModify() {\n      this.menuModify.id = null;\n      this.menuModify.name = null;\n      this.menuModify.url = null;\n      this.menuModify.parentId = null;\n      this.menuModify.sort = null;\n      this.menuModify.remark = null;\n      this.menuModify.icon = null;\n    },\n\n    /*menuNew设置*/\n    menuSet: function menuSet(e) {\n      this.menu.id = e.id;\n      this.menu.name = e.name;\n      this.menu.url = e.url;\n      this.menu.parentId = e.parentId;\n      this.menu.sort = e.sort;\n      this.menu.remark = e.remark;\n      this.menu.icon = e.icon;\n    },\n\n    /*menuNew设置*/\n    menuNewSet: function menuNewSet(e) {\n      this.menuNew.id = e.id;\n      this.menuNew.name = e.name;\n      this.menuNew.url = e.url;\n      this.menuNew.parentId = e.parentId;\n      this.menuNew.sort = e.sort;\n      this.menuNew.remark = e.remark;\n      this.menuNew.icon = e.icon;\n    },\n\n    /*menuModify设置*/\n    menuModifySet: function menuModifySet(e) {\n      this.menuModify.id = e.id;\n      this.menuModify.name = e.name;\n      this.menuModify.url = e.url;\n      this.menuModify.parentId = e.parentId + \"\";\n      this.menuModify.sort = e.sort + \"\";\n      this.menuModify.remark = e.remark;\n      this.menuModify.icon = e.icon;\n    },\n\n    /*得到表数据*/\n    getTable: function getTable(e) {\n      this.axios({\n        method: \"get\",\n        url: \"/menus\",\n        params: {\n          page: e.pageInfo.page,\n          pageSize: e.pageInfo.pageSize,\n          menuId: e.menuId\n        }\n      }).then(function (response) {\n        this.data1 = response.data.data.data;\n        this.total = response.data.data.totalCount;\n      }.bind(this)).catch(function (error) {\n        alert(error);\n      });\n    },\n\n    /*搜索按钮点击事件*/\n    search: function search() {\n      this.initPageInfo();\n      this.getTable({\n        pageInfo: this.pageInfo,\n        menuId: this.menuId\n      });\n    },\n\n    /*分页点击事件*/\n    pageSearch: function pageSearch(e) {\n      this.pageInfo.page = e - 1;\n      this.getTable({\n        pageInfo: this.pageInfo,\n        menuId: this.menuId\n      });\n    },\n\n    /*新建点击触发事件*/\n    openNewModal: function openNewModal() {\n      this.newModal = true;\n      this.initMenuNew();\n      this.data1.sort();\n      this.count = 0;\n      this.groupId = null;\n    },\n\n    /*新建modal的newOk点击事件*/\n    newOk: function newOk(menuNew) {\n      var _this = this;\n\n      this.$refs[menuNew].validate(function (valid) {\n        if (valid) {\n          _this.initMenu();\n\n          _this.menuSet(_this.menuNew);\n\n          _this.axios({\n            method: \"post\",\n            url: \"/menus/menu\",\n            data: _this.menu\n          }).then(function (response) {\n            this.initMenuNew();\n            this.getTable({\n              pageInfo: this.pageInfo,\n              menuId: this.menuId\n            });\n            this.$Message.info(\"新建成功\");\n          }.bind(_this)).catch(function (error) {\n            alert(error);\n          });\n\n          _this.newModal = false;\n        } else {\n          setTimeout(function () {\n            _this.loading = false;\n\n            _this.$nextTick(function () {\n              _this.loading = true;\n            });\n          }, 1000);\n        }\n      });\n    },\n\n    /*点击修改时判断是否只选择一个*/\n    openModifyModal: function openModifyModal() {\n      if (this.count > 1 || this.count < 1) {\n        this.modifyModal = false;\n        this.$Message.warning(\"请至少选择一项(且只能选择一项)\");\n      } else {\n        this.modifyModal = true;\n      }\n    },\n\n    /*修改modal的modifyOk点击事件*/\n    modifyOk: function modifyOk(menuModify) {\n      var _this2 = this;\n\n      this.$refs[menuModify].validate(function (valid) {\n        if (valid) {\n          _this2.initMenu();\n\n          _this2.menuSet(_this2.menuModify);\n\n          _this2.axios({\n            method: \"put\",\n            url: \"/menus/\" + _this2.menu.id,\n            data: _this2.menu\n          }).then(function (response) {\n            this.initMenuNew();\n            this.getTable({\n              pageInfo: this.pageInfo,\n              menuId: this.menuId\n            });\n            this.$Message.info(\"修改成功\");\n          }.bind(_this2)).catch(function (error) {\n            alert(error);\n          });\n\n          _this2.modifyModal = false;\n        } else {\n          _this2.$Message.error(\"表单验证失败!\");\n\n          setTimeout(function () {\n            _this2.loading = false;\n\n            _this2.$nextTick(function () {\n              _this2.loading = true;\n            });\n          }, 1000);\n        }\n      });\n    },\n\n    /*modal的cancel点击事件*/\n    cancel: function cancel() {\n      this.$Message.info(\"点击了取消\");\n    },\n\n    /*table选择后触发事件*/\n    change: function change(e) {\n      if (e.length == 1) {\n        this.menuModifySet(e[\"0\"]);\n      }\n\n      this.setGroupId(e);\n    },\n\n    /*通过选中的行设置groupId的值*/\n    setGroupId: function setGroupId(e) {\n      this.groupId = [];\n      this.count = e.length;\n\n      for (var i = 0; i <= e.length - 1; i++) {\n        this.groupId.push(e[i].id);\n      }\n    },\n\n    /*删除table中选中的数据*/\n    del: function del() {\n      if (this.groupId != null && this.groupId != \"\") {\n        this.axios({\n          method: \"delete\",\n          url: \"/menus\",\n          data: this.groupId\n        }).then(function (response) {\n          this.getTable({\n            pageInfo: this.pageInfo,\n            menuId: this.menuId\n          });\n          this.groupId = null;\n          this.count = 0;\n          this.$Message.info(\"删除成功\");\n        }.bind(this)).catch(function (error) {\n          alert(error);\n        });\n      }\n    },\n\n    /*表格中双击事件*/\n    dblclick: function dblclick(e) {\n      this.menuModifySet(e);\n      this.modifyModal = true;\n      this.data1.sort();\n    }\n  }\n};",{"version":3,"sources":["menu.vue"],"names":[],"mappings":"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","sourcesContent":["<style scoped>\r\n  .operation-button{\r\n    margin-right: 3px;\r\n  }\r\n</style>\r\n<template>\r\n\t<div style=\"margin: 20px;\">\r\n        <div>\r\n            <Row style=\"margin-bottom: 25px;\">\r\n                <Col span=\"8\">菜单名称：\r\n                    <Select v-model=\"menuId\" filterable clearable style=\"width: 200px\">\r\n                        <Option v-for=\"item in menuList\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n                    </Select>\r\n                </Col>\r\n                <Col span=\"8\"><Button type=\"primary\" shape=\"circle\" icon=\"ios-search\" @click=\"search()\">搜索</Button></Col>\r\n            </Row>\r\n        </div>            \r\n        <div>\r\n            <ul style=\"list-style-type: none;\">\r\n                <li>\r\n                    <Button class=\"operation-button\" type=\"primary\" icon=\"md-add\" @click=\"openNewModal()\">新建</Button>\r\n                    <Button class=\"operation-button\" type=\"success\" icon=\"md-build\" @click=\"openModifyModal()\">修改</Button>\r\n                    <Button type=\"error\" icon=\"md-trash\" @click=\"del()\">删除</Button>\r\n                </li>\r\n                <li>\r\n                    <div style=\"padding: 10px 0;\">\r\n                    \t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"400\" @on-selection-change=\"s=>{change(s)}\" @on-row-dblclick=\"s=>{dblclick(s)}\"></Table>\r\n                    </div> \r\n                </li>\r\n                <li>\r\n                    <div style=\"text-align: right;\">\r\n                        <Page :total=\"total\" :page-size=\"pageInfo.pageSize\" show-elevator show-total @on-change=\"e=>{pageSearch(e)}\"></Page>\r\n                    </div>  \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <!--添加modal-->  \r\n        <Modal :mask-closable=\"false\" :visible.sync=\"newModal\" :loading = \"loading\" v-model=\"newModal\" width=\"600\" title=\"新建\" @on-ok=\"newOk('menuNew')\" @on-cancel=\"cancel()\">\r\n            <Form ref=\"menuNew\" :model=\"menuNew\" :rules=\"ruleNew\" :label-width=\"80\" >\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"菜单名称:\" prop=\"name\">\r\n                            <Input v-model=\"menuNew.name\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"路径:\" prop=\"url\">\r\n                            <Input v-model=\"menuNew.url\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"父类ID:\" prop=\"parentId\">\r\n                            <Input v-model=\"menuNew.parentId\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"排序号:\" prop=\"sort\">\r\n                            <Input v-model=\"menuNew.sort\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"图标:\" prop=\"icon\">\r\n                            <Input v-model=\"menuNew.icon\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Form-item label=\"描述:\" prop=\"remark\">\r\n                     <Input v-model=\"menuNew.remark\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\r\n                </Form-item>\r\n            </Form>\r\n        </Modal>\r\n        <!--修改modal-->  \r\n        <Modal :mask-closable=\"false\" :visible.sync=\"modifyModal\" :loading = \"loading\" v-model=\"modifyModal\" width=\"600\" title=\"修改\" @on-ok=\"modifyOk('menuModify')\" @on-cancel=\"cancel()\">\r\n            <Form ref=\"menuModify\" :model=\"menuModify\" :rules=\"ruleModify\" :label-width=\"80\" >\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"菜单名称:\" prop=\"name\">\r\n                            <Input v-model=\"menuModify.name\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"路径:\" prop=\"url\">\r\n                            <Input v-model=\"menuModify.url\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"父类ID:\" prop=\"parentId\">\r\n                            <Input v-model=\"menuModify.parentId\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"排序号:\" prop=\"sort\">\r\n                            <Input v-model=\"menuModify.sort\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col span=\"12\">\r\n                        <Form-item label=\"图标:\" prop=\"icon\">\r\n                            <Input v-model=\"menuModify.icon\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                    </Col>\r\n                </Row>\r\n                <Form-item label=\"描述:\" prop=\"remark\">\r\n                     <Input v-model=\"menuModify.remark\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\r\n                </Form-item>\r\n            </Form>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      /*用于查找的菜单id*/\r\n      menuId: null,\r\n      /*选择的数量*/\r\n      count: null,\r\n      /*选中的组数据*/\r\n      groupId: null,\r\n      /*新建modal的显示参数*/\r\n      newModal: false,\r\n      /*修改modal的显示参数*/\r\n      modifyModal: false,\r\n      /*分页total属性绑定值*/\r\n      total: 0,\r\n      /*loading*/\r\n      loading: true,\r\n      /*pageInfo实体*/\r\n      pageInfo: {\r\n        page: 0,\r\n        pageSize: 10\r\n      },\r\n      /*menu实体*/\r\n      menu: {\r\n        id: null,\r\n        name: null,\r\n        url: null,\r\n        parentId: null,\r\n        sort: null,\r\n        remark: null,\r\n        icon: null\r\n      },\r\n      /*用于添加的menu实体*/\r\n      menuNew: {\r\n        id: null,\r\n        name: null,\r\n        url: null,\r\n        parentId: null,\r\n        sort: null,\r\n        remark: null,\r\n        icon: null\r\n      },\r\n      /*用于修改的menu实体*/\r\n      menuModify: {\r\n        id: null,\r\n        name: null,\r\n        url: null,\r\n        parentId: null,\r\n        sort: null,\r\n        remark: null,\r\n        icon: null\r\n      },\r\n      /*新建验证*/\r\n      ruleNew: {\r\n        name: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入菜单名\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        url: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入路径\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        parentId: [\r\n          { required: true, message: \"输入父类ID\", trigger: \"blur\" },\r\n          {\r\n            validator(rule, value, callback) {\r\n              if (!Number.isInteger(+value)) {\r\n                callback(new Error(\"请输入数字\"));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        sort: [\r\n          { required: true, message: \"输入排序\", trigger: \"blur\" },\r\n          {\r\n            validator(rule, value, callback) {\r\n              if (!Number.isInteger(+value)) {\r\n                callback(new Error(\"请输入数字\"));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        icon: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入图标\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      /*修改验证*/\r\n      ruleModify: {\r\n        name: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入菜单名\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        url: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入路径\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        parentId: [\r\n          { required: true, message: \"输入父类ID\", trigger: \"blur\" },\r\n          {\r\n            validator(rule, value, callback) {\r\n              if (!Number.isInteger(+value)) {\r\n                callback(new Error(\"请输入数字\"));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        sort: [\r\n          { required: true, message: \"输入排序\", trigger: \"blur\" },\r\n          {\r\n            validator(rule, value, callback) {\r\n              if (!Number.isInteger(+value)) {\r\n                callback(new Error(\"请输入数字\"));\r\n              } else {\r\n                callback();\r\n              }\r\n            },\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        icon: [\r\n          {\r\n            type: \"string\",\r\n            required: true,\r\n            message: \"输入图标\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      /*菜单列表*/\r\n      menuList: [],\r\n      /*生产类型表显示字段*/\r\n      columns1: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"菜单ID\",\r\n          key: \"id\"\r\n        },\r\n        {\r\n          title: \"菜单名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"地址\",\r\n          key: \"url\"\r\n        },\r\n        {\r\n          title: \"上级菜单id\",\r\n          key: \"parentId\"\r\n        },\r\n        {\r\n          title: \"排序\",\r\n          key: \"sort\"\r\n        },\r\n        {\r\n          title: \"图标\",\r\n          key: \"icon\"\r\n        }\r\n      ],\r\n      /*生产类型表数据*/\r\n      data1: []\r\n    };\r\n  },\r\n  mounted() {\r\n    /*页面初始化调用方法*/\r\n    this.getTable({\r\n      pageInfo: this.pageInfo,\r\n      menuId: this.menuId\r\n    });\r\n    this.axios({\r\n      method: \"get\",\r\n      url: \"/menus/parentId\",\r\n      params: {\r\n        parentId: 0\r\n      }\r\n    })\r\n      .then(\r\n        function(response) {\r\n          var listTemp = response.data.data;\r\n          for (var i = 0; i < listTemp.length; i++) {\r\n            this.menuList.push({\r\n              value: listTemp[i].id,\r\n              label: listTemp[i].name\r\n            });\r\n          }\r\n        }.bind(this)\r\n      )\r\n      .catch(function(error) {\r\n        alert(error);\r\n      });\r\n  },\r\n  methods: {\r\n    /*pageInfo实体初始化*/\r\n    initPageInfo() {\r\n      this.pageInfo.page = 0;\r\n      this.pageInfo.pageSize = 10;\r\n    },\r\n    /*menu实体初始化*/\r\n    initMenu() {\r\n      this.menu.id = null;\r\n      this.menu.name = null;\r\n      this.menu.url = null;\r\n      this.menu.parentId = null;\r\n      this.menu.sort = null;\r\n      this.menu.remark = null;\r\n      this.menu.icon = null;\r\n    },\r\n    /*menuNew实体初始化*/\r\n    initMenuNew() {\r\n      this.menuNew.id = null;\r\n      this.menuNew.name = null;\r\n      this.menuNew.url = null;\r\n      this.menuNew.parentId = null;\r\n      this.menuNew.sort = null;\r\n      this.menuNew.remark = null;\r\n      this.menuNew.icon = null;\r\n    },\r\n    /*menuModify实体初始化*/\r\n    initMenuModify() {\r\n      this.menuModify.id = null;\r\n      this.menuModify.name = null;\r\n      this.menuModify.url = null;\r\n      this.menuModify.parentId = null;\r\n      this.menuModify.sort = null;\r\n      this.menuModify.remark = null;\r\n      this.menuModify.icon = null;\r\n    },\r\n    /*menuNew设置*/\r\n    menuSet(e) {\r\n      this.menu.id = e.id;\r\n      this.menu.name = e.name;\r\n      this.menu.url = e.url;\r\n      this.menu.parentId = e.parentId;\r\n      this.menu.sort = e.sort;\r\n      this.menu.remark = e.remark;\r\n      this.menu.icon = e.icon;\r\n    },\r\n    /*menuNew设置*/\r\n    menuNewSet(e) {\r\n      this.menuNew.id = e.id;\r\n      this.menuNew.name = e.name;\r\n      this.menuNew.url = e.url;\r\n      this.menuNew.parentId = e.parentId;\r\n      this.menuNew.sort = e.sort;\r\n      this.menuNew.remark = e.remark;\r\n      this.menuNew.icon = e.icon;\r\n    },\r\n    /*menuModify设置*/\r\n    menuModifySet(e) {\r\n      this.menuModify.id = e.id;\r\n      this.menuModify.name = e.name;\r\n      this.menuModify.url = e.url;\r\n      this.menuModify.parentId = e.parentId + \"\";\r\n      this.menuModify.sort = e.sort + \"\";\r\n      this.menuModify.remark = e.remark;\r\n      this.menuModify.icon = e.icon;\r\n    },\r\n    /*得到表数据*/\r\n    getTable(e) {\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/menus\",\r\n        params: {\r\n          page: e.pageInfo.page,\r\n          pageSize: e.pageInfo.pageSize,\r\n          menuId: e.menuId\r\n        }\r\n      })\r\n        .then(\r\n          function(response) {\r\n            this.data1 = response.data.data.data;\r\n            this.total = response.data.data.totalCount;\r\n          }.bind(this)\r\n        )\r\n        .catch(function(error) {\r\n          alert(error);\r\n        });\r\n    },\r\n    /*搜索按钮点击事件*/\r\n    search() {\r\n      this.initPageInfo();\r\n      this.getTable({\r\n        pageInfo: this.pageInfo,\r\n        menuId: this.menuId\r\n      });\r\n    },\r\n    /*分页点击事件*/\r\n    pageSearch(e) {\r\n      this.pageInfo.page = e - 1;\r\n      this.getTable({\r\n        pageInfo: this.pageInfo,\r\n        menuId: this.menuId\r\n      });\r\n    },\r\n    /*新建点击触发事件*/\r\n    openNewModal() {\r\n      this.newModal = true;\r\n      this.initMenuNew();\r\n      this.data1.sort();\r\n      this.count = 0;\r\n      this.groupId = null;\r\n    },\r\n    /*新建modal的newOk点击事件*/\r\n    newOk(menuNew) {\r\n      this.$refs[menuNew].validate(valid => {\r\n        if (valid) {\r\n          this.initMenu();\r\n          this.menuSet(this.menuNew);\r\n          this.axios({\r\n            method: \"post\",\r\n            url: \"/menus/menu\",\r\n            data: this.menu\r\n          })\r\n            .then(\r\n              function(response) {\r\n                this.initMenuNew();\r\n                this.getTable({\r\n                  pageInfo: this.pageInfo,\r\n                  menuId: this.menuId\r\n                });\r\n                this.$Message.info(\"新建成功\");\r\n              }.bind(this)\r\n            )\r\n            .catch(function(error) {\r\n              alert(error);\r\n            });\r\n          this.newModal = false;\r\n        } else {\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            this.$nextTick(() => {\r\n              this.loading = true;\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n    /*点击修改时判断是否只选择一个*/\r\n    openModifyModal() {\r\n      if (this.count > 1 || this.count < 1) {\r\n        this.modifyModal = false;\r\n        this.$Message.warning(\"请至少选择一项(且只能选择一项)\");\r\n      } else {\r\n        this.modifyModal = true;\r\n      }\r\n    },\r\n    /*修改modal的modifyOk点击事件*/\r\n    modifyOk(menuModify) {\r\n      this.$refs[menuModify].validate(valid => {\r\n        if (valid) {\r\n          this.initMenu();\r\n          this.menuSet(this.menuModify);\r\n          this.axios({\r\n            method: \"put\",\r\n            url: \"/menus/\" + this.menu.id,\r\n            data: this.menu\r\n          })\r\n            .then(\r\n              function(response) {\r\n                this.initMenuNew();\r\n                this.getTable({\r\n                  pageInfo: this.pageInfo,\r\n                  menuId: this.menuId\r\n                });\r\n                this.$Message.info(\"修改成功\");\r\n              }.bind(this)\r\n            )\r\n            .catch(function(error) {\r\n              alert(error);\r\n            });\r\n          this.modifyModal = false;\r\n        } else {\r\n          this.$Message.error(\"表单验证失败!\");\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            this.$nextTick(() => {\r\n              this.loading = true;\r\n            });\r\n          }, 1000);\r\n        }\r\n      });\r\n    },\r\n    /*modal的cancel点击事件*/\r\n    cancel() {\r\n      this.$Message.info(\"点击了取消\");\r\n    },\r\n    /*table选择后触发事件*/\r\n    change(e) {\r\n      if (e.length == 1) {\r\n        this.menuModifySet(e[\"0\"]);\r\n      }\r\n      this.setGroupId(e);\r\n    },\r\n    /*通过选中的行设置groupId的值*/\r\n    setGroupId(e) {\r\n      this.groupId = [];\r\n      this.count = e.length;\r\n      for (var i = 0; i <= e.length - 1; i++) {\r\n        this.groupId.push(e[i].id);\r\n      }\r\n    },\r\n    /*删除table中选中的数据*/\r\n    del() {\r\n      if (this.groupId != null && this.groupId != \"\") {\r\n        this.axios({\r\n          method: \"delete\",\r\n          url: \"/menus\",\r\n          data: this.groupId\r\n        })\r\n          .then(\r\n            function(response) {\r\n              this.getTable({\r\n                pageInfo: this.pageInfo,\r\n                menuId: this.menuId\r\n              });\r\n              this.groupId = null;\r\n              this.count = 0;\r\n              this.$Message.info(\"删除成功\");\r\n            }.bind(this)\r\n          )\r\n          .catch(function(error) {\r\n            alert(error);\r\n          });\r\n      }\r\n    },\r\n    /*表格中双击事件*/\r\n    dblclick(e) {\r\n      this.menuModifySet(e);\r\n      this.modifyModal = true;\r\n      this.data1.sort();\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/sys"}]}