{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\yjzb\\djrxpj.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\yjzb\\djrxpj.vue","mtime":1574230461441},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport util from '../../../util.js';\nimport data from '../../../data.js'; // for axios add finally\n\nimport promiseFinally from 'promise.prototype.finally';\npromiseFinally.shim();\nexport default {\n  data: function data() {\n    return {\n      dateValue: [util.dateFormat(util.lastWeek(new Date())), util.dateFormat(new Date())],\n      selectValue: {},\n      showSpin: false,\n      searchContent: null,\n      groupId: [],\n\n      /*表显示字段*/\n      columns1: [{\n        title: \"指标\",\n        key: \"title\",\n        align: \"center\"\n      }, {\n        title: \"数值（单位：元）\",\n        key: \"value\",\n        align: \"center\"\n      }],\n      data1: [],\n      dateOptions: {\n        shortcuts: [{\n          text: '最近一周',\n          value: function value() {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n            return [start, end];\n          }\n        }, {\n          text: '最近一个月',\n          value: function value() {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n            return [start, end];\n          }\n        }, {\n          text: '最近三个月',\n          value: function value() {\n            var end = new Date();\n            var start = new Date();\n            start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n            return [start, end];\n          }\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    // 查询所有的参数\n    this.$store.dispatch('queryAllParam');\n    /*页面初始化调用方法*/\n\n    this.search();\n  },\n  methods: {\n    search: function search() {\n      this.showSpin = true;\n      this.axios({\n        method: \"get\",\n        url: \"/rainbow/djrxpj\",\n        timeout: 1000 * 60 * 2,\n        params: {\n          filterMap: {\n            startDate: this.dateValue[0],\n            endDate: this.dateValue[1],\n            deviceTypeValue: this.selectValue.deviceTypeValue,\n            areaValue: this.selectValue.areaValue,\n            channelValue: this.selectValue.channelValue,\n            shopValue: this.selectValue.shopValue,\n            shopTypeValue: this.selectValue.shopTypeValue\n          }\n        }\n      }).then(function (response) {\n        console.log(JSON.stringify(response));\n\n        if (response.data.data != null) {\n          this.data1 = [{\n            \"title\": \"日均销售额\",\n            \"value\": util.numFixed(response.data.data['在网设备日均销售额'])\n          }, {\n            \"title\": \"开机日均销售额\",\n            \"value\": util.numFixed(response.data.data['开机在网设备日均单台销额'])\n          }];\n        } else {\n          this.data1 = [{\n            \"title\": \"日均销售额\",\n            \"value\": \"0.00\"\n          }, {\n            \"title\": \"开机日均销售额\",\n            \"value\": \"0.00\"\n          }];\n        }\n      }.bind(this)).catch(function (error) {\n        alert(error);\n      }).finally(function () {\n        this.showSpin = false;\n      }.bind(this));\n    },\n    handleDateChange: function handleDateChange(daterange) {\n      console.log(daterange);\n      this.dateValue = daterange;\n    }\n  }\n};",{"version":3,"sources":["djrxpj.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,IAAA,MAAA,kBAAA;AACA,OAAA,IAAA,MAAA,kBAAA,C,CACA;;AACA,OAAA,cAAA,MAAA,2BAAA;AACA,cAAA,CAAA,IAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,CAAA,IAAA,CAAA,UAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,IAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,UAAA,CAAA,IAAA,IAAA,EAAA,CAAA,CADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAIA,MAAA,QAAA,EAAA,KAJA;AAKA,MAAA,aAAA,EAAA,IALA;AAMA,MAAA,OAAA,EAAA,EANA;;AAOA;AACA,MAAA,QAAA,EAAA,CAAA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,GAAA,EAAA,OAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA,EAKA;AACA,QAAA,KAAA,EAAA,UADA;AAEA,QAAA,GAAA,EAAA,OAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OALA,CARA;AAmBA,MAAA,KAAA,EAAA,EAnBA;AAoBA,MAAA,WAAA,EAAA;AACA,QAAA,SAAA,EAAA,CAAA;AACA,UAAA,IAAA,EAAA,MADA;AAEA,UAAA,KAFA,mBAEA;AACA,gBAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,gBAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,KAAA,OAAA,IAAA,GAAA,EAAA,GAAA,CAAA;AACA,mBAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA;AAPA,SAAA,EASA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,KAFA,mBAEA;AACA,gBAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,gBAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,KAAA,OAAA,IAAA,GAAA,EAAA,GAAA,EAAA;AACA,mBAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA;AAPA,SATA,EAkBA;AACA,UAAA,IAAA,EAAA,OADA;AAEA,UAAA,KAFA,mBAEA;AACA,gBAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,gBAAA,KAAA,GAAA,IAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,KAAA,OAAA,IAAA,GAAA,EAAA,GAAA,EAAA;AACA,mBAAA,CAAA,KAAA,EAAA,GAAA,CAAA;AACA;AAPA,SAlBA;AADA;AApBA,KAAA;AAmDA,GArDA;AAsDA,EAAA,OAtDA,qBAsDA;AACA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,eAAA;AAEA;;AACA,SAAA,MAAA;AACA,GA5DA;AA6DA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,QAAA,GAAA,IAAA;AAEA,WAAA,KAAA,CAAA;AACA,QAAA,MAAA,EAAA,KADA;AAEA,QAAA,GAAA,EAAA,iBAFA;AAGA,QAAA,OAAA,EAAA,OAAA,EAAA,GAAA,CAHA;AAIA,QAAA,MAAA,EAAA;AACA,UAAA,SAAA,EAAA;AACA,YAAA,SAAA,EAAA,KAAA,SAAA,CAAA,CAAA,CADA;AAEA,YAAA,OAAA,EAAA,KAAA,SAAA,CAAA,CAAA,CAFA;AAGA,YAAA,eAAA,EAAA,KAAA,WAAA,CAAA,eAHA;AAIA,YAAA,SAAA,EAAA,KAAA,WAAA,CAAA,SAJA;AAKA,YAAA,YAAA,EAAA,KAAA,WAAA,CAAA,YALA;AAMA,YAAA,SAAA,EAAA,KAAA,WAAA,CAAA,SANA;AAOA,YAAA,aAAA,EAAA,KAAA,WAAA,CAAA;AAPA;AADA;AAJA,OAAA,EAgBA,IAhBA,CAiBA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA;;AAEA,YAAA,QAAA,CAAA,IAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,eAAA,KAAA,GAAA,CAAA;AACA,qBAAA,OADA;AAEA,qBAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,WAAA,CAAA;AAFA,WAAA,EAGA;AACA,qBAAA,SADA;AAEA,qBAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,cAAA,CAAA;AAFA,WAHA,CAAA;AAOA,SARA,MAQA;AACA,eAAA,KAAA,GAAA,CAAA;AACA,qBAAA,OADA;AAEA,qBAAA;AAFA,WAAA,EAGA;AACA,qBAAA,SADA;AAEA,qBAAA;AAFA,WAHA,CAAA;AAOA;AAEA,OArBA,CAqBA,IArBA,CAqBA,IArBA,CAjBA,EAwCA,KAxCA,CAwCA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA;AACA,OA1CA,EA2CA,OA3CA,CA2CA,YAAA;AACA,aAAA,QAAA,GAAA,KAAA;AACA,OAFA,CAEA,IAFA,CAEA,IAFA,CA3CA;AA+CA,KAnDA;AAoDA,IAAA,gBApDA,4BAoDA,SApDA,EAoDA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,WAAA,SAAA,GAAA,SAAA;AACA;AAvDA;AA7DA,CAAA","sourcesContent":["<!-- 单机日销平均  -->\r\n<style>\r\n\r\n</style>\r\n\r\n<template>\r\n\t<div style=\"margin: 40px;\">\r\n\t\t<div>\r\n\t\t\t<Row style=\"margin-bottom: 25px;\">\r\n\t\t\r\n\t\t\t\t<Col span=\"8\">日期：\r\n\t\t\t\t<Date-picker :value=\"dateValue\" @on-change='handleDateChange' :clearable=\"false\"  type=\"daterange\" editable=\"false\" :options=\"dateOptions\"\r\n\t\t\t\t placement=\"bottom-start\" placeholder=\"选择日期\" style=\"width: 250px\"></Date-picker>\r\n\t\t\t\t</Col>\r\n\t\t\t\t\r\n\t\t\t\t<Col span=\"8\">所属地区：\r\n\t\t\t\t<Select v-model=\"selectValue.areaValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.areaList\" :value=\"item.paramKey\" :key=\"item.paramKey\">{{ item.paramValue }}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\t\t\r\n\t\t\t\t<Col span=\"8\">设备：\r\n\t\t\t\t<Select v-model=\"selectValue.deviceTypeValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.deviceTypeList\" :value=\"item.paramKey\" :key=\"item.paramKey\">{{ item.paramValue }}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\t\t\r\n\t\t\t</Row>\r\n\t\t\t<Row style=\"margin-bottom: 25px;\">\r\n\t\t\r\n\t\t\t\t<Col span=\"8\">渠道：\r\n\t\t\t\t<Select v-model=\"selectValue.channelValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.channelList\" :value=\"item.paramValue\" :key=\"item.paramValue\">{{ item.paramValue }}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\t\t\r\n\t\t\t\t<Col span=\"8\" style=\"display: none;\">网点：\r\n\t\t\t\t<Select v-model=\"selectValue.shopValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.shopList\" :value=\"item.paramKey\" :key=\"item.paramKey\">{{ item.paramValue }}-{{item.paramKey}}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\t\t\r\n\t\t\t\t<Col span=\"8\" >网点类型：\r\n\t\t\t\t<Select v-model=\"selectValue.shopTypeValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.shopTypeList\" :value=\"item.paramValue\" :key=\"item.paramValue\">{{ item.paramValue }}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\t\t\t\t\r\n\t\t\t\t<Col span=\"8\" style=\"text-align: left;\"><Button type=\"primary\" shape=\"circle\" icon=\"ios-search\" @click=\"search()\">搜索</Button></Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\r\n\t\t<Spin size=\"large\" fix v-if=\"showSpin\"></Spin>\r\n\r\n\t\t<div style=\"padding: 10px 0;\">\r\n\t\t\t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"350\" :search=\"true\"></Table>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div style=\"margin-top: 0.3125rem;text-align: right;\">\r\n\t\t\t备注：2019年8月14日前无数据\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport util from '../../../util.js'\r\n\timport data from '../../../data.js'\r\n\t// for axios add finally\r\n\timport promiseFinally from 'promise.prototype.finally';\r\n\tpromiseFinally.shim();\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdateValue: [util.dateFormat(util.lastWeek(new Date())), util.dateFormat(new Date())],\r\n\t\t\t\tselectValue:{},\r\n\t\t\t\t\r\n\t\t\t\tshowSpin: false,\r\n\t\t\t\tsearchContent: null,\r\n\t\t\t\tgroupId: [],\r\n\t\t\t\t/*表显示字段*/\r\n\t\t\t\tcolumns1: [{\r\n\t\t\t\t\t\ttitle: \"指标\",\r\n\t\t\t\t\t\tkey: \"title\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"数值（单位：元）\",\r\n\t\t\t\t\t\tkey: \"value\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata1: [],\r\n\t\t\t\tdateOptions: {\r\n\t\t\t\t\tshortcuts: [{\r\n\t\t\t\t\t\t\ttext: '最近一周',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: '最近一个月',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: '最近三个月',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 查询所有的参数\r\n\t\t\tthis.$store.dispatch('queryAllParam');\r\n\t\t\t\r\n\t\t\t/*页面初始化调用方法*/\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.showSpin = true;\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/rainbow/djrxpj\",\r\n\t\t\t\t\t\ttimeout: 1000 * 60 * 2,\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tfilterMap: {\r\n\t\t\t\t\t\t\t\tstartDate: this.dateValue[0],\r\n\t\t\t\t\t\t\t\tendDate: this.dateValue[1],\r\n\t\t\t\t\t\t\t\tdeviceTypeValue: this.selectValue.deviceTypeValue,\r\n\t\t\t\t\t\t\t\tareaValue: this.selectValue.areaValue,\r\n\t\t\t\t\t\t\t\tchannelValue: this.selectValue.channelValue,\r\n\t\t\t\t\t\t\t\tshopValue: this.selectValue.shopValue,\r\n\t\t\t\t\t\t\t\tshopTypeValue: this.selectValue.shopTypeValue\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(response))\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (response.data.data != null) {\r\n\t\t\t\t\t\t\t\tthis.data1 = [{\r\n\t\t\t\t\t\t\t\t\t\"title\": \"日均销售额\",\r\n\t\t\t\t\t\t\t\t\t\"value\": util.numFixed(response.data.data['在网设备日均销售额'])\r\n\t\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\t\t\"title\": \"开机日均销售额\",\r\n\t\t\t\t\t\t\t\t\t\"value\": util.numFixed(response.data.data['开机在网设备日均单台销额'])\r\n\t\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.data1 = [{\r\n\t\t\t\t\t\t\t\t\t\"title\": \"日均销售额\",\r\n\t\t\t\t\t\t\t\t\t\"value\": \"0.00\"\r\n\t\t\t\t\t\t\t\t},{\r\n\t\t\t\t\t\t\t\t\t\"title\": \"开机日均销售额\",\r\n\t\t\t\t\t\t\t\t\t\"value\": \"0.00\"\r\n\t\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function() {\r\n\t\t\t\t\t\tthis.showSpin = false;\r\n\t\t\t\t\t}.bind(this));\r\n\r\n\t\t\t},\r\n\t\t\thandleDateChange(daterange) {\r\n\t\t\t\tconsole.log(daterange)\r\n\t\t\t\tthis.dateValue = daterange;\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t};\r\n</script>\n"],"sourceRoot":"src/views/rainbow/yjzb"}]}