{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\banner.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\sys\\banner.vue","mtime":1568861049916},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      groupId: [],\r\n      modal: false,\r\n      /*分页total属性绑定值*/\r\n      total: 0,\r\n      /*pageInfo实体*/\r\n      pageInfo: {\r\n        page: 0,\r\n        pageSize: 10\r\n      },\r\n      /*user实体*/\r\n      postcard: {\r\n        id: null,\r\n        username: null,\r\n        title: null,\r\n        interestid: null,\r\n        content: null,\r\n        createtime: null,\r\n        replytime: null\r\n      },\r\n      /*表显示字段*/\r\n      columns1: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"ID\",\r\n          key: \"id\",\r\n          width: 100\r\n        },\r\n        {\r\n          title: \"标题\",\r\n          key: \"title\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"简介\",\r\n          key: \"info\"\r\n        },\r\n        {\r\n          title: \"轮播\",\r\n          key: \"banner\",\r\n          width: 100,\r\n          render: (h, params) => {\r\n            if (params.row.banner == 1) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"strong\",\r\n                  {\r\n                    style: {\r\n                      color: \"#2b85e4\"\r\n                    }\r\n                  },\r\n                  \"轮播\"\r\n                )\r\n              ]);\r\n            } else if (params.row.banner == 0) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"strong\",\r\n                  {\r\n                    style: {\r\n                      color: \"#f90\"\r\n                    }\r\n                  },\r\n                  \"非轮播\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          align: \"center\",\r\n          key: \"action\",\r\n          width: 100,\r\n          render: (h, params) => {\r\n            return h(\r\n              \"a\",\r\n              {\r\n                attrs: {\r\n                  href:\r\n                    this.$store.state.domainName +\r\n                    \"/page/detail/\" +\r\n                    params.row.id,\r\n                  target: \"_blank\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"info\"\r\n                    }\r\n                  },\r\n                  \"查看\"\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      /*表数据*/\r\n      data1: []\r\n    };\r\n  },\r\n  mounted() {\r\n    /*页面初始化调用方法*/\r\n    this.getTable({\r\n      pageInfo: this.pageInfo\r\n    });\r\n    this.axios({\r\n      method: \"get\",\r\n      url: \"/public/interests\"\r\n    })\r\n      .then(\r\n        function(response) {\r\n          this.interestList = response.data.data;\r\n        }.bind(this)\r\n      )\r\n      .catch(\r\n        function(error) {\r\n          alter(error);\r\n        }.bind(this)\r\n      );\r\n  },\r\n  methods: {\r\n    /*pageInfo实体初始化*/\r\n    initPageInfo() {\r\n      this.pageInfo.page = 0;\r\n      this.pageInfo.pageSize = 10;\r\n    },\r\n    postcardSet(e) {\r\n      this.postcard.id = e.id;\r\n      this.postcard.username = e.username;\r\n      this.postcard.title = e.title;\r\n      this.postcard.interestid = e.interestid;\r\n      this.postcard.content = e.content;\r\n      this.postcard.createtime = e.createtime;\r\n      this.postcard.replytime = e.replytime;\r\n    },\r\n    dateGet(e) {\r\n      var time = new Date(parseInt(e));\r\n      return (\r\n        time.getFullYear() +\r\n        \"-\" +\r\n        (time.getMonth() + 1) +\r\n        \"-\" +\r\n        time.getDate() +\r\n        \" \" +\r\n        time.getHours() +\r\n        \":\" +\r\n        time.getMinutes()\r\n      );\r\n    },\r\n    listDateSet(e) {\r\n      for (var i = e.length - 1; i >= 0; i--) {\r\n        e[i].createtime = this.dateGet(e[i].createtime);\r\n      }\r\n    },\r\n    /*得到表数据*/\r\n    getTable(e) {\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/admin/interests\",\r\n        params: {\r\n          page: e.pageInfo.page,\r\n          pageSize: e.pageInfo.pageSize\r\n        }\r\n      })\r\n        .then(\r\n          function(response) {\r\n            this.data1 = response.data.data.data;\r\n            // this.listDateSet(this.data1);\r\n            this.total = response.data.data.totalCount;\r\n          }.bind(this)\r\n        )\r\n        .catch(function(error) {\r\n          alert(error);\r\n        });\r\n    },\r\n    /*分页点击事件*/\r\n    pageSearch(e) {\r\n      this.pageInfo.page = e - 1;\r\n      this.getTable({\r\n        pageInfo: this.pageInfo\r\n      });\r\n    },\r\n    /*modal的cancel点击事件*/\r\n    cancel() {\r\n      this.modal = false;\r\n    },\r\n    /*表格中双击事件*/\r\n    dblclick(e) {\r\n      this.postcardSet(e);\r\n      this.modal = true;\r\n    },\r\n    setBanner() {\r\n      if (this.groupId != null && this.groupId != \"\") {\r\n        this.axios({\r\n          method: \"put\",\r\n          url: \"/admin/banners/set\",\r\n          data: this.groupId\r\n        })\r\n          .then(\r\n            function(response) {\r\n              this.getTable({\r\n                pageInfo: this.pageInfo\r\n              });\r\n              this.groupId = [];\r\n              this.$Message.info(\"删除成功\");\r\n            }.bind(this)\r\n          )\r\n          .catch(function(error) {\r\n            alert(error);\r\n          });\r\n      }\r\n    },\r\n    delBanner() {\r\n      if (this.groupId != null && this.groupId != \"\") {\r\n        this.axios({\r\n          method: \"put\",\r\n          url: \"/admin/banners/del\",\r\n          data: this.groupId\r\n        })\r\n          .then(\r\n            function(response) {\r\n              this.getTable({\r\n                pageInfo: this.pageInfo\r\n              });\r\n              this.groupId = [];\r\n              this.$Message.info(\"删除成功\");\r\n            }.bind(this)\r\n          )\r\n          .catch(function(error) {\r\n            alert(error);\r\n          });\r\n      }\r\n    },\r\n    change(e) {\r\n      this.setGroupId(e);\r\n    },\r\n    setGroupId(e) {\r\n      this.groupId = [];\r\n      for (var i = 0; i <= e.length - 1; i++) {\r\n        this.groupId.push(e[i].id);\r\n      }\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["banner.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"banner.vue","sourceRoot":"src/views/sys","sourcesContent":["<style scoped>\r\n  .operation-button{\r\n    margin-right: 3px;\r\n  }\r\n</style>\r\n<template>\r\n\t<div style=\"margin: 40px;\">\r\n        <div>\r\n            <ul>\r\n            \t<li>\r\n            \t\t  <Button class=\"operation-button\" type=\"info\" icon=\"md-add\" @click=\"setBanner()\">添加</Button>\r\n                  <Button type=\"error\" icon=\"md-trash\" @click=\"delBanner()\">取消</Button>\r\n                </li>\r\n                <li>\r\n                    <div style=\"padding: 10px 0;\">\r\n                    \t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"400\" @on-selection-change=\"s=>{change(s)}\"></Table>\r\n                    </div> \r\n                </li>\r\n                <li>\r\n                    <div style=\"text-align: right;\">\r\n                        <Page :total=\"total\" :page-size=\"pageInfo.pageSize\" show-elevator show-total @on-change=\"e=>{pageSearch(e)}\"></Page>\r\n                    </div>  \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <Modal :mask-closable=\"false\" :visible.sync=\"modal\" v-model=\"modal\" width=\"600\" title=\"查看\">\r\n\t        <Form :label-width=\"80\" >\r\n\t        \t<Form-item label=\"登录名:\">\r\n\t        \t\t<strong>{{postcard.username}}</strong>\r\n                    <!-- <Input v-model=\"email.username\" style=\"width: 204px\" disabled=\"disabled\" /> -->\r\n                </Form-item>\r\n                <Form-item label=\"内容:\">\r\n                \t<span>{{postcard.content}}</span>\r\n                    <!-- <Input v-model=\"email.username\" style=\"width: 204px\" disabled=\"disabled\" /> -->\r\n                </Form-item>\r\n            </Form>\r\n\t        <div slot=\"footer\">\r\n\t            <Button type=\"error\" size=\"large\"  @click=\"cancel\">关闭</Button>\r\n\t        </div>\r\n\t    </Modal>\t\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      groupId: [],\r\n      modal: false,\r\n      /*分页total属性绑定值*/\r\n      total: 0,\r\n      /*pageInfo实体*/\r\n      pageInfo: {\r\n        page: 0,\r\n        pageSize: 10\r\n      },\r\n      /*user实体*/\r\n      postcard: {\r\n        id: null,\r\n        username: null,\r\n        title: null,\r\n        interestid: null,\r\n        content: null,\r\n        createtime: null,\r\n        replytime: null\r\n      },\r\n      /*表显示字段*/\r\n      columns1: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"ID\",\r\n          key: \"id\",\r\n          width: 100\r\n        },\r\n        {\r\n          title: \"标题\",\r\n          key: \"title\",\r\n          width: 150\r\n        },\r\n        {\r\n          title: \"简介\",\r\n          key: \"info\"\r\n        },\r\n        {\r\n          title: \"轮播\",\r\n          key: \"banner\",\r\n          width: 100,\r\n          render: (h, params) => {\r\n            if (params.row.banner == 1) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"strong\",\r\n                  {\r\n                    style: {\r\n                      color: \"#2b85e4\"\r\n                    }\r\n                  },\r\n                  \"轮播\"\r\n                )\r\n              ]);\r\n            } else if (params.row.banner == 0) {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"strong\",\r\n                  {\r\n                    style: {\r\n                      color: \"#f90\"\r\n                    }\r\n                  },\r\n                  \"非轮播\"\r\n                )\r\n              ]);\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          align: \"center\",\r\n          key: \"action\",\r\n          width: 100,\r\n          render: (h, params) => {\r\n            return h(\r\n              \"a\",\r\n              {\r\n                attrs: {\r\n                  href:\r\n                    this.$store.state.domainName +\r\n                    \"/page/detail/\" +\r\n                    params.row.id,\r\n                  target: \"_blank\"\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  \"Button\",\r\n                  {\r\n                    props: {\r\n                      type: \"info\"\r\n                    }\r\n                  },\r\n                  \"查看\"\r\n                )\r\n              ]\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      /*表数据*/\r\n      data1: []\r\n    };\r\n  },\r\n  mounted() {\r\n    /*页面初始化调用方法*/\r\n    this.getTable({\r\n      pageInfo: this.pageInfo\r\n    });\r\n    this.axios({\r\n      method: \"get\",\r\n      url: \"/public/interests\"\r\n    })\r\n      .then(\r\n        function(response) {\r\n          this.interestList = response.data.data;\r\n        }.bind(this)\r\n      )\r\n      .catch(\r\n        function(error) {\r\n          alter(error);\r\n        }.bind(this)\r\n      );\r\n  },\r\n  methods: {\r\n    /*pageInfo实体初始化*/\r\n    initPageInfo() {\r\n      this.pageInfo.page = 0;\r\n      this.pageInfo.pageSize = 10;\r\n    },\r\n    postcardSet(e) {\r\n      this.postcard.id = e.id;\r\n      this.postcard.username = e.username;\r\n      this.postcard.title = e.title;\r\n      this.postcard.interestid = e.interestid;\r\n      this.postcard.content = e.content;\r\n      this.postcard.createtime = e.createtime;\r\n      this.postcard.replytime = e.replytime;\r\n    },\r\n    dateGet(e) {\r\n      var time = new Date(parseInt(e));\r\n      return (\r\n        time.getFullYear() +\r\n        \"-\" +\r\n        (time.getMonth() + 1) +\r\n        \"-\" +\r\n        time.getDate() +\r\n        \" \" +\r\n        time.getHours() +\r\n        \":\" +\r\n        time.getMinutes()\r\n      );\r\n    },\r\n    listDateSet(e) {\r\n      for (var i = e.length - 1; i >= 0; i--) {\r\n        e[i].createtime = this.dateGet(e[i].createtime);\r\n      }\r\n    },\r\n    /*得到表数据*/\r\n    getTable(e) {\r\n      this.axios({\r\n        method: \"get\",\r\n        url: \"/admin/interests\",\r\n        params: {\r\n          page: e.pageInfo.page,\r\n          pageSize: e.pageInfo.pageSize\r\n        }\r\n      })\r\n        .then(\r\n          function(response) {\r\n            this.data1 = response.data.data.data;\r\n            // this.listDateSet(this.data1);\r\n            this.total = response.data.data.totalCount;\r\n          }.bind(this)\r\n        )\r\n        .catch(function(error) {\r\n          alert(error);\r\n        });\r\n    },\r\n    /*分页点击事件*/\r\n    pageSearch(e) {\r\n      this.pageInfo.page = e - 1;\r\n      this.getTable({\r\n        pageInfo: this.pageInfo\r\n      });\r\n    },\r\n    /*modal的cancel点击事件*/\r\n    cancel() {\r\n      this.modal = false;\r\n    },\r\n    /*表格中双击事件*/\r\n    dblclick(e) {\r\n      this.postcardSet(e);\r\n      this.modal = true;\r\n    },\r\n    setBanner() {\r\n      if (this.groupId != null && this.groupId != \"\") {\r\n        this.axios({\r\n          method: \"put\",\r\n          url: \"/admin/banners/set\",\r\n          data: this.groupId\r\n        })\r\n          .then(\r\n            function(response) {\r\n              this.getTable({\r\n                pageInfo: this.pageInfo\r\n              });\r\n              this.groupId = [];\r\n              this.$Message.info(\"删除成功\");\r\n            }.bind(this)\r\n          )\r\n          .catch(function(error) {\r\n            alert(error);\r\n          });\r\n      }\r\n    },\r\n    delBanner() {\r\n      if (this.groupId != null && this.groupId != \"\") {\r\n        this.axios({\r\n          method: \"put\",\r\n          url: \"/admin/banners/del\",\r\n          data: this.groupId\r\n        })\r\n          .then(\r\n            function(response) {\r\n              this.getTable({\r\n                pageInfo: this.pageInfo\r\n              });\r\n              this.groupId = [];\r\n              this.$Message.info(\"删除成功\");\r\n            }.bind(this)\r\n          )\r\n          .catch(function(error) {\r\n            alert(error);\r\n          });\r\n      }\r\n    },\r\n    change(e) {\r\n      this.setGroupId(e);\r\n    },\r\n    setGroupId(e) {\r\n      this.groupId = [];\r\n      for (var i = 0; i <= e.length - 1; i++) {\r\n        this.groupId.push(e[i].id);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}