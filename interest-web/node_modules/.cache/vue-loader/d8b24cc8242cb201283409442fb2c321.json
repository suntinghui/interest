{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\yjzb\\kcscbl.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\yjzb\\kcscbl.vue","mtime":1572946093345},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '../../../util.js'\nimport data from '../../../data.js'\n// for axios add finally\nimport promiseFinally from 'promise.prototype.finally';\npromiseFinally.shim();\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdateValue: [util.dateFormat(util.lastWeek(new Date())), util.dateFormat(new Date())],\n\t\t\t\n\t\t\tshowSpin: false,\n\t\t\tsearchContent: null,\n\t\t\tgroupId: [],\n\t\t\t/*表显示字段*/\n\t\t\tcolumns1: [{\n\t\t\t\t\ttitle: \"标题\",\n\t\t\t\t\tkey: \"title\",\n\t\t\t\t\talign: \"center\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"数值\",\n\t\t\t\t\tkey: \"value\",\n\t\t\t\t\talign: \"center\"\n\t\t\t\t}\n\t\t\t],\n\t\t\tdata1: [],\n\t\t\tdateOptions: {\n\t\t\t\tshortcuts: [{\n\t\t\t\t\t\ttext: '最近一周',\n\t\t\t\t\t\tvalue() {\n\t\t\t\t\t\t\tconst end = new Date();\n\t\t\t\t\t\t\tconst start = new Date();\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n\t\t\t\t\t\t\treturn [start, end];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: '最近一个月',\n\t\t\t\t\t\tvalue() {\n\t\t\t\t\t\t\tconst end = new Date();\n\t\t\t\t\t\t\tconst start = new Date();\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n\t\t\t\t\t\t\treturn [start, end];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: '最近三个月',\n\t\t\t\t\t\tvalue() {\n\t\t\t\t\t\t\tconst end = new Date();\n\t\t\t\t\t\t\tconst start = new Date();\n\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n\t\t\t\t\t\t\treturn [start, end];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t},\n\tmounted() {\n\t\t/*页面初始化调用方法*/\n\t\tthis.search();\n\t},\n\tmethods: {\n\t\tsearch() {\n\t\t\tthis.showSpin = true;\n\n\t\t\tthis.axios({\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\turl: \"/rainbow/kcscbl\",\n\t\t\t\t\ttimeout: 1000 * 60 * 2,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tstartDate: this.dateValue[0],\n\t\t\t\t\t\tendDate: this.dateValue[1],\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\tconsole.log(JSON.stringify(response))\n\n\t\t\t\t\t\tthis.data1 = [{\n\t\t\t\t\t\t\t\"title\": \"空仓时长比率\",\n\t\t\t\t\t\t\t\"value\": util.toPercent(response.data.data)\n\t\t\t\t\t\t}];\n\t\t\t\t\t}.bind(this)\n\t\t\t\t)\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\talert(error);\n\t\t\t\t})\n\t\t\t\t.finally(function() {\n\t\t\t\t\tthis.showSpin = false;\n\t\t\t\t}.bind(this));\n\n\t\t},\n\t\thandleDateChange(daterange) {\n\t\t\tconsole.log(daterange)\n\t\t\tthis.dateValue = daterange;\n\t\t}\n\n\n\t}\n};\n",{"version":3,"sources":["kcscbl.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"kcscbl.vue","sourceRoot":"src/views/rainbow/yjzb","sourcesContent":["<!-- 空仓时长比率  -->\r\n<style>\r\n\r\n</style>\r\n\r\n<template>\r\n\t<div style=\"margin: 40px;\">\r\n\t\t<div>\r\n\t\t\t<Row style=\"margin-bottom: 25px;\">\r\n\r\n\t\t\t\t<Col span=\"20\">起止日期时间：\r\n\t\t\t\t\t<Date-picker :value=\"dateValue\"  @on-change='handleDateChange' type=\"datetimerange\" editable=\"false\" :options=\"dateOptions\" placement=\"bottom-start\" placeholder=\"选择日期时间\" style=\"width: 300px\"></Date-picker>\r\n\t\t\t\t</Col>\r\n\t\t\t\t\r\n\t\t\t\t<Col span=\"4\"><Button type=\"primary\" shape=\"circle\" icon=\"ios-search\" @click=\"search()\">搜索</Button></Col>\r\n\t\t\t</Row>\r\n\t\t</div>\r\n\r\n\t\t<Spin size=\"large\" fix v-if=\"showSpin\"></Spin>\r\n\r\n\t\t<div style=\"padding: 10px 0;\">\r\n\t\t\t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"350\" :search=\"true\"></Table>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div style=\"margin-top: 0.3125rem;text-align: right;\">\r\n\t\t\t备注：2019年8月14日前无数据\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport util from '../../../util.js'\r\n\timport data from '../../../data.js'\r\n\t// for axios add finally\r\n\timport promiseFinally from 'promise.prototype.finally';\r\n\tpromiseFinally.shim();\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdateValue: [util.dateFormat(util.lastWeek(new Date())), util.dateFormat(new Date())],\r\n\t\t\t\t\r\n\t\t\t\tshowSpin: false,\r\n\t\t\t\tsearchContent: null,\r\n\t\t\t\tgroupId: [],\r\n\t\t\t\t/*表显示字段*/\r\n\t\t\t\tcolumns1: [{\r\n\t\t\t\t\t\ttitle: \"标题\",\r\n\t\t\t\t\t\tkey: \"title\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"数值\",\r\n\t\t\t\t\t\tkey: \"value\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata1: [],\r\n\t\t\t\tdateOptions: {\r\n\t\t\t\t\tshortcuts: [{\r\n\t\t\t\t\t\t\ttext: '最近一周',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: '最近一个月',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: '最近三个月',\r\n\t\t\t\t\t\t\tvalue() {\r\n\t\t\t\t\t\t\t\tconst end = new Date();\r\n\t\t\t\t\t\t\t\tconst start = new Date();\r\n\t\t\t\t\t\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n\t\t\t\t\t\t\t\treturn [start, end];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t/*页面初始化调用方法*/\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.showSpin = true;\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/rainbow/kcscbl\",\r\n\t\t\t\t\t\ttimeout: 1000 * 60 * 2,\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tstartDate: this.dateValue[0],\r\n\t\t\t\t\t\t\tendDate: this.dateValue[1],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(response))\r\n\r\n\t\t\t\t\t\t\tthis.data1 = [{\r\n\t\t\t\t\t\t\t\t\"title\": \"空仓时长比率\",\r\n\t\t\t\t\t\t\t\t\"value\": util.toPercent(response.data.data)\r\n\t\t\t\t\t\t\t}];\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function() {\r\n\t\t\t\t\t\tthis.showSpin = false;\r\n\t\t\t\t\t}.bind(this));\r\n\r\n\t\t\t},\r\n\t\t\thandleDateChange(daterange) {\r\n\t\t\t\tconsole.log(daterange)\r\n\t\t\t\tthis.dateValue = daterange;\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t};\r\n</script>\n"]}]}