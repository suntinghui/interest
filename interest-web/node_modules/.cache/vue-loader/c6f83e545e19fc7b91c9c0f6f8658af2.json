{"remainingRequest":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\srtj\\xsetjy.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\src\\views\\rainbow\\srtj\\xsetjy.vue","mtime":1573909220332},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspace\\javaEE\\interest\\interest-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport util from '../../../util.js'\nimport data from '../../../data.js'\n// for axios add finally\nimport promiseFinally from 'promise.prototype.finally';\npromiseFinally.shim();\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tstartMonth: util.lastMonth(new Date()),\n\t\t\tendMonth: util.dateFormat(new Date()),\n\n\t\t\tshowDetailModel: false,\n\t\t\tdetailTitle: \"详情\",\n\t\t\t\n\t\t\tselectValue:{},\n\n\t\t\tshowSpin: false,\n\t\t\tdate: null,\n\t\t\tsearchContent: null,\n\t\t\tgroupId: [],\n\t\t\t/*表显示字段*/\n\t\t\tcolumns1: [{\n\t\t\t\t\ttitle: \"顶级渠道\",\n\t\t\t\t\tkey: \"顶级渠道\",\n\t\t\t\t\tsortable: true,\n\t\t\t\t\talign: \"center\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"月份\",\n\t\t\t\t\tkey: \"月份\",\n\t\t\t\t\tsortable: true,\n\t\t\t\t\talign: \"center\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"销售额\",\n\t\t\t\t\tkey: \"销售额\",\n\t\t\t\t\tsortable: true,\n\t\t\t\t\talign: \"center\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"操作\",\n\t\t\t\t\tkey: \"Action\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\twidth: 150,\n\t\t\t\t\trender: (h, params) => {\n\t\t\t\t\t\treturn h('Button', {\n\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\ttype: \"primary\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\tclick: () => {\n\t\t\t\t\t\t\t\t\tthis.queryDetailInfo(params.row)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, \"详情\")\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tdata1: [],\n\t\t\tcolumns2: [{\n\t\t\t\t\ttitle: \"顶级渠道\",\n\t\t\t\t\tkey: \"顶级渠道\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"日期\",\n\t\t\t\t\tkey: \"日期\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tsortable: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"销售额\",\n\t\t\t\t\tkey: \"销售额\",\n\t\t\t\t\talign: \"center\",\n\t\t\t\t\tsortable: true\n\t\t\t\t}\n\t\t\t],\n\t\t\tdata2: []\n\t\t};\n\t},\n\tmounted() {\n\t\t// 查询所有的参数\n\t\tthis.$store.dispatch('queryParam', 'queryChannelList');\n\n\t\t/*页面初始化调用方法*/\n\t\tthis.search();\n\t},\n\tmethods: {\n\t\tsearch() {\n\t\t\tthis.showSpin = true;\n\n\t\t\tthis.axios({\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\turl: \"/rainbow/xsetjy\",\n\t\t\t\t\ttimeout: 1000 * 60 * 2,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tfilterMap: {\n\t\t\t\t\t\t\tstartMonth: this.startMonth,\n\t\t\t\t\t\t\tendMonth: this.endMonth,\n\t\t\t\t\t\t\tchannelValue: this.selectValue.channelValue,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\tconsole.log(JSON.stringify(response))\n\n\t\t\t\t\t\tthis.data1 = response.data.data;\n\t\t\t\t\t\tthis.total = response.data.data.totalCount;\n\t\t\t\t\t\t\n\n\t\t\t\t\t}.bind(this)\n\t\t\t\t)\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\talert(error);\n\t\t\t\t})\n\t\t\t\t.finally(function() {\n\t\t\t\t\tthis.showSpin = false;\n\t\t\t\t}.bind(this));\n\t\t},\n\n\t\tqueryDetailInfo(rowData) {\n\t\t\tthis.showSpin = true;\n\n\t\t\tthis.axios({\n\t\t\t\t\tmethod: \"get\",\n\t\t\t\t\turl: \"/rainbow/srtjr\",\n\t\t\t\t\ttimeout: 1000 * 60 * 2,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tfilterMap: {\n\t\t\t\t\t\t\tchannelValue: rowData['顶级渠道'],\n\t\t\t\t\t\t\tqueryMonth: rowData['月份']\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\tconsole.log(JSON.stringify(response))\n\n\t\t\t\t\t\tthis.data2 = response.data.data;\n\t\t\t\t\t\tthis.showDetailModel = true;\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.detailTitle = rowData['顶级渠道']+'  '+rowData['月份'];\n\n\t\t\t\t\t}.bind(this)\n\t\t\t\t)\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\talert(error);\n\t\t\t\t})\n\t\t\t\t.finally(function() {\n\t\t\t\t\tthis.showSpin = false;\n\n\t\t\t\t}.bind(this));\n\n\t\t},\n\t\t\n\t\thandleStartDateChange(selMonth) {\n\t\t\tconsole.log('===='+selMonth)\n\t\t\tthis.startMonth = selMonth;\n\t\t},\n\t\t\n\t\thandleEndDateChange(selMonth) {\n\t\t\tthis.endMonth = selMonth;\n\t\t}\n\t},\n};\n",{"version":3,"sources":["xsetjy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"xsetjy.vue","sourceRoot":"src/views/rainbow/srtj","sourcesContent":["<!-- 销售额情况统计（按月）  -->\r\n<style>\r\n\r\n</style>\r\n\r\n<template>\r\n\t<div style=\"margin: 40px;\">\r\n\t\t<div>\r\n\t\t\t<Row style=\"margin-bottom: 25px;\">\r\n\r\n\t\t\t\t<Col span=\"10\">起止月份：\r\n\t\t\t\t<Date-picker :value=\"startMonth\" @on-change='handleStartDateChange' :clearable=\"false\"  type=\"month\" editable=\"false\" placement=\"bottom-start\"\r\n\t\t\t\t placeholder=\"开始月份\" style=\"width: 150px\"></Date-picker>\r\n\t\t\t\t-\r\n\t\t\t\t<Date-picker :value=\"endMonth\" @on-change='handleEndDateChange' :clearable=\"false\"  type=\"month\" editable=\"false\" placement=\"bottom-start\"\r\n\t\t\t\t placeholder=\"截止月份\" style=\"width: 150px\"></Date-picker>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col span=\"8\">渠道：\r\n\t\t\t\t<Select v-model=\"selectValue.channelValue\" filterable clearable style=\"width: 250px\">\r\n\t\t\t\t\t<Option v-for=\"item in this.$store.state.param.channelList\" :value=\"item.paramValue\" :key=\"item.paramValue\">{{ item.paramValue }}</Option>\r\n\t\t\t\t</Select>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col span=\"4\" style=\"text-align: center;\"><Button type=\"primary\" shape=\"circle\" icon=\"ios-search\" @click=\"search()\">搜索</Button></Col>\r\n\r\n\t\t\t</Row>\r\n\r\n\t\t</div>\r\n\r\n\t\t<Spin size=\"large\" fix v-if=\"showSpin\"></Spin>\r\n\r\n\t\t<div style=\"padding: 10px 0;\">\r\n\t\t\t<Table border :columns=\"columns1\" :data=\"data1\" :height=\"450\" :search=\"true\"></Table>\r\n\t\t</div>\r\n\r\n\t\t<!-- 该月份下的每日详情 -->\r\n\t\t<Modal closable scrollable :mask-closable=\"false\" v-model=\"showDetailModel\" width=\"60%\" :title=\"detailTitle\" style=\"padding-left: 30px; padding-right: 30px;\">\r\n\t\t\t<Table border size=\"small\" :columns=\"columns2\" :data=\"data2\" :height=\"450\" ></Table>\r\n\t\t\t<div slot=\"footer\"></div>\r\n\t\t</Modal>\r\n\r\n\t</div>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport util from '../../../util.js'\r\n\timport data from '../../../data.js'\r\n\t// for axios add finally\r\n\timport promiseFinally from 'promise.prototype.finally';\r\n\tpromiseFinally.shim();\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tstartMonth: util.lastMonth(new Date()),\r\n\t\t\t\tendMonth: util.dateFormat(new Date()),\r\n\r\n\t\t\t\tshowDetailModel: false,\r\n\t\t\t\tdetailTitle: \"详情\",\r\n\t\t\t\t\r\n\t\t\t\tselectValue:{},\r\n\r\n\t\t\t\tshowSpin: false,\r\n\t\t\t\tdate: null,\r\n\t\t\t\tsearchContent: null,\r\n\t\t\t\tgroupId: [],\r\n\t\t\t\t/*表显示字段*/\r\n\t\t\t\tcolumns1: [{\r\n\t\t\t\t\t\ttitle: \"顶级渠道\",\r\n\t\t\t\t\t\tkey: \"顶级渠道\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"月份\",\r\n\t\t\t\t\t\tkey: \"月份\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"销售额\",\r\n\t\t\t\t\t\tkey: \"销售额\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"操作\",\r\n\t\t\t\t\t\tkey: \"Action\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\twidth: 150,\r\n\t\t\t\t\t\trender: (h, params) => {\r\n\t\t\t\t\t\t\treturn h('Button', {\r\n\t\t\t\t\t\t\t\tprops: {\r\n\t\t\t\t\t\t\t\t\ttype: \"primary\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\t\t\t\tthis.queryDetailInfo(params.row)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}, \"详情\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata1: [],\r\n\t\t\t\tcolumns2: [{\r\n\t\t\t\t\t\ttitle: \"顶级渠道\",\r\n\t\t\t\t\t\tkey: \"顶级渠道\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tsortable: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"日期\",\r\n\t\t\t\t\t\tkey: \"日期\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tsortable: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"销售额\",\r\n\t\t\t\t\t\tkey: \"销售额\",\r\n\t\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\t\tsortable: true\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata2: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 查询所有的参数\r\n\t\t\tthis.$store.dispatch('queryParam', 'queryChannelList');\r\n\r\n\t\t\t/*页面初始化调用方法*/\r\n\t\t\tthis.search();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.showSpin = true;\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/rainbow/xsetjy\",\r\n\t\t\t\t\t\ttimeout: 1000 * 60 * 2,\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tfilterMap: {\r\n\t\t\t\t\t\t\t\tstartMonth: this.startMonth,\r\n\t\t\t\t\t\t\t\tendMonth: this.endMonth,\r\n\t\t\t\t\t\t\t\tchannelValue: this.selectValue.channelValue,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(response))\r\n\r\n\t\t\t\t\t\t\tthis.data1 = response.data.data;\r\n\t\t\t\t\t\t\tthis.total = response.data.data.totalCount;\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function() {\r\n\t\t\t\t\t\tthis.showSpin = false;\r\n\t\t\t\t\t}.bind(this));\r\n\t\t\t},\r\n\r\n\t\t\tqueryDetailInfo(rowData) {\r\n\t\t\t\tthis.showSpin = true;\r\n\r\n\t\t\t\tthis.axios({\r\n\t\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\t\turl: \"/rainbow/srtjr\",\r\n\t\t\t\t\t\ttimeout: 1000 * 60 * 2,\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tfilterMap: {\r\n\t\t\t\t\t\t\t\tchannelValue: rowData['顶级渠道'],\r\n\t\t\t\t\t\t\t\tqueryMonth: rowData['月份']\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(\r\n\t\t\t\t\t\tfunction(response) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(response))\r\n\r\n\t\t\t\t\t\t\tthis.data2 = response.data.data;\r\n\t\t\t\t\t\t\tthis.showDetailModel = true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.detailTitle = rowData['顶级渠道']+'  '+rowData['月份'];\r\n\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\talert(error);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function() {\r\n\t\t\t\t\t\tthis.showSpin = false;\r\n\r\n\t\t\t\t\t}.bind(this));\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleStartDateChange(selMonth) {\r\n\t\t\t\tconsole.log('===='+selMonth)\r\n\t\t\t\tthis.startMonth = selMonth;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleEndDateChange(selMonth) {\r\n\t\t\t\tthis.endMonth = selMonth;\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\n"]}]}